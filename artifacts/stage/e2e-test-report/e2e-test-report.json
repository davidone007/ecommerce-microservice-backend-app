{
  "collection": {
    "_": {
      "postman_id": "ef5441c3-5a76-4161-8f2b-c7ac0c683b5a",
      "exporter_id": "48543948"
    },
    "item": [
      {
        "id": "8648df09-0c53-4845-93cf-ecb6068e2417",
        "name": "E2E-00: Setup Autenticación",
        "description": {
          "content": "Setup inicial: Crea un usuario administrador, sus credenciales y obtiene el token JWT para las pruebas",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
            "name": "0.1 - Crear Usuario Admin",
            "request": {
              "url": {
                "path": [
                  "users"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Response has userId\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('userId');",
                    "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                    "    console.log(\"Admin User ID:\", jsonData.userId);",
                    "});",
                    "",
                    "pm.test(\"User data is correct\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                    "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                    "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                    "});"
                  ],
                  "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
                }
              }
            ]
          },
          {
            "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
            "name": "0.2 - Crear Credenciales para Admin",
            "request": {
              "url": {
                "path": [
                  "credentials"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{admin_userId}}\n    }\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Credentials created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('credentialId');",
                    "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                    "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                    "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                    "});"
                  ],
                  "_lastExecutionId": "06f5c541-5217-4bb6-b219-39ecf9173d90"
                }
              },
              {
                "listen": "prerequest",
                "script": {
                  "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                  "type": "text/javascript",
                  "exec": [
                    "// Esperar un momento para asegurar que el usuario está creado",
                    "setTimeout(function(){}, 500);"
                  ],
                  "_lastExecutionId": "a911e9c6-1ff5-4b10-8d41-a6be0c5a4100"
                }
              }
            ]
          },
          {
            "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
            "name": "0.3 - Autenticar y Obtener Token",
            "request": {
              "url": {
                "path": [
                  "authenticate"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"JWT Token received\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('jwtToken');",
                    "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                    "    console.log(\"✅ JWT Token obtenido y guardado\");",
                    "    console.log(\"Token:\", jsonData.jwtToken);",
                    "});",
                    "",
                    "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                  ],
                  "_lastExecutionId": "85694538-9a76-4565-8eb4-284f09fdc2a9"
                }
              },
              {
                "listen": "prerequest",
                "script": {
                  "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                  "type": "text/javascript",
                  "exec": [
                    "// Esperar un momento para asegurar que las credenciales están creadas",
                    "setTimeout(function(){}, 500);"
                  ],
                  "_lastExecutionId": "e4f7f7ef-aea7-4ec7-941d-685ea0de3516"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
        "name": "E2E-01: Registro y Gestión de Usuario Completa",
        "description": {
          "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "35b4f041-0826-4def-bf03-63af42674860",
            "name": "1.1 - Crear Usuario Nuevo",
            "request": {
              "url": {
                "path": [
                  "users"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Response has userId\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('userId');",
                    "    pm.environment.set(\"test_userId\", jsonData.userId);",
                    "});",
                    "",
                    "pm.test(\"User data is correct\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                    "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                    "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                    "});"
                  ],
                  "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                }
              }
            ]
          },
          {
            "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
            "name": "1.2 - Crear Credenciales para Usuario",
            "request": {
              "url": {
                "path": [
                  "credentials"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Credentials created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('credentialId');",
                    "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                    "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                    "});"
                  ],
                  "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                }
              }
            ]
          },
          {
            "id": "0907f30b-0cbd-4753-b843-e07444352f08",
            "name": "1.3 - Obtener Usuario Creado",
            "request": {
              "url": {
                "path": [
                  "users",
                  "{{test_userId}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "GET",
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"User exists and has correct data\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                    "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                    "});"
                  ],
                  "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                }
              }
            ]
          },
          {
            "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
            "name": "1.4 - Actualizar Teléfono del Usuario",
            "request": {
              "url": {
                "path": [
                  "users",
                  "{{test_userId}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "PUT",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Phone number updated\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                    "});"
                  ],
                  "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                }
              }
            ]
          },
          {
            "id": "bea056a3-3fda-4930-ae56-740c1417d133",
            "name": "1.5 - Verificar Usuario Actualizado",
            "request": {
              "url": {
                "path": [
                  "users",
                  "{{test_userId}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "GET",
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"User updated successfully\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                    "});",
                    "",
                    "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                  ],
                  "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "c2586345-7b26-4d62-9551-1637696e6664",
        "name": "E2E-02: Flujo de Compra Completo",
        "description": {
          "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
            "name": "2.1 - Crear Categoría para Productos",
            "request": {
              "url": {
                "path": [
                  "categories"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Category created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('categoryId');",
                    "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                    "});"
                  ],
                  "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                }
              }
            ]
          },
          {
            "id": "da80b48b-c22f-4173-934f-d23c6366be69",
            "name": "2.2 - Crear Producto 1",
            "request": {
              "url": {
                "path": [
                  "products"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Product 1 created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('productId');",
                    "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                    "});"
                  ],
                  "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                }
              }
            ]
          },
          {
            "id": "cba22f78-b984-4186-9b8f-03e972895b65",
            "name": "2.3 - Crear Producto 2",
            "request": {
              "url": {
                "path": [
                  "products"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Product 2 created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('productId');",
                    "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                    "});"
                  ],
                  "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                }
              }
            ]
          },
          {
            "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
            "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
            "request": {
              "url": {
                "path": [
                  "carts"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"userId\": {{test_userId}}\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "prerequest",
                "script": {
                  "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                  "type": "text/javascript",
                  "exec": [
                    "// Verificar que el token JWT existe",
                    "const token = pm.environment.get(\"jwt_token\");",
                    "if (!token) {",
                    "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                    "}",
                    "",
                    "// Verificar que el userId existe",
                    "const userId = pm.environment.get(\"test_userId\");",
                    "if (!userId) {",
                    "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                    "}",
                    "",
                    "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                    "console.log('User ID:', userId);"
                  ],
                  "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                }
              },
              {
                "listen": "test",
                "script": {
                  "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                  "type": "text/javascript",
                  "exec": [
                    "// Manejo de errores más detallado",
                    "if (pm.response.code === 403) {",
                    "    console.error('❌ Error 403 - Forbidden');",
                    "    console.error('Posibles causas:');",
                    "    console.error('1. Token JWT expirado o inválido');",
                    "    console.error('2. Usuario sin permisos para crear carritos');",
                    "    console.error('3. El usuario test_userId no existe');",
                    "    ",
                    "    const responseBody = pm.response.text();",
                    "    console.error('Respuesta del servidor:', responseBody);",
                    "}",
                    "",
                    "pm.test(\"Status code is 200 or 201\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                    "});",
                    "",
                    "if (pm.response.code === 200 || pm.response.code === 201) {",
                    "    pm.test(\"Cart created\", function () {",
                    "        var jsonData = pm.response.json();",
                    "        pm.expect(jsonData).to.have.property('cartId');",
                    "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                    "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                    "    });",
                    "}"
                  ],
                  "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                }
              }
            ]
          },
          {
            "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
            "name": "2.5 - Crear Orden con Productos",
            "request": {
              "url": {
                "path": [
                  "orders"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Order created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('orderId');",
                    "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                    "});"
                  ],
                  "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                }
              }
            ]
          },
          {
            "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
            "name": "2.6 - Actualizar Estado de Orden a ORDERED",
            "request": {
              "url": {
                "path": [
                  "orders",
                  "{{test_orderId}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "PUT",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Order updated\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('orderId');",
                    "    pm.expect(jsonData).to.have.property('orderStatus');",
                    "});",
                    "",
                    "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                  ],
                  "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                }
              }
            ]
          },
          {
            "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
            "name": "2.7 - Crear Pago para la Orden",
            "request": {
              "url": {
                "path": [
                  "payments"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Payment created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('paymentId');",
                    "    pm.expect(jsonData.paymentStatus).to.exist;",
                    "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                    "});"
                  ],
                  "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                }
              }
            ]
          },
          {
            "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
            "name": "2.8 - Completar Pago",
            "request": {
              "url": {
                "path": [
                  "payments",
                  "{{test_paymentId}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "PUT",
              "body": {
                "mode": "raw",
                "raw": ""
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Payment updated\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('paymentId');",
                    "    pm.expect(jsonData).to.have.property('paymentStatus');",
                    "});"
                  ],
                  "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "80e52769-ce95-4366-9b12-e37ada969c65",
        "name": "E2E-03: Gestión de Productos y Stock",
        "description": {
          "content": "Flujo de gestión de productos: lista productos, obtiene detalles, actualiza stock y precio, y verifica cambios",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
            "name": "3.1 - Listar Todos los Productos",
            "request": {
              "url": {
                "path": [
                  "products"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "GET",
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Response has products\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.be.an('object');",
                    "});"
                  ],
                  "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
                }
              }
            ]
          },
          {
            "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
            "name": "3.2 - Obtener Producto Específico",
            "request": {
              "url": {
                "path": [
                  "products",
                  "{{test_productId1}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "GET",
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Product details are correct\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                    "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                    "    pm.expect(jsonData.quantity).to.eql(50);",
                    "});"
                  ],
                  "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
                }
              }
            ]
          },
          {
            "id": "269948d9-1257-4342-a1fc-50fe019459e4",
            "name": "3.3 - Actualizar Stock del Producto",
            "request": {
              "url": {
                "path": [
                  "products",
                  "{{test_productId1}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "PUT",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Product updated\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('productId');",
                    "});"
                  ],
                  "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
                }
              }
            ]
          },
          {
            "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
            "name": "3.4 - Actualizar Precio del Producto",
            "request": {
              "url": {
                "path": [
                  "products",
                  "{{test_productId1}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "PUT",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Product updated\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('productId');",
                    "});"
                  ],
                  "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
                }
              }
            ]
          },
          {
            "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
            "name": "3.5 - Verificar Cambios en el Producto",
            "request": {
              "url": {
                "path": [
                  "products",
                  "{{test_productId1}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "GET",
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Product retrieved\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('productId');",
                    "});",
                    "",
                    "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                  ],
                  "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "7023d071-c0f3-4328-bdea-c9aa4971fee0",
        "name": "E2E-04: Flujo de Envío Completo",
        "description": {
          "content": "Flujo completo de envío: crea items de envío para una orden, lista todos los envíos, consulta específico y actualiza cantidades",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
            "name": "4.1 - Crear Item de Envío 1",
            "request": {
              "url": {
                "path": [
                  "shippings"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"productId\": {{test_productId1}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 1\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Shipping item created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('productId');",
                    "});"
                  ],
                  "_lastExecutionId": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
                }
              }
            ]
          },
          {
            "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
            "name": "4.2 - Crear Item de Envío 2",
            "request": {
              "url": {
                "path": [
                  "shippings"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"productId\": {{test_productId2}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 2\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Shipping item created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('productId');",
                    "});"
                  ],
                  "_lastExecutionId": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
                }
              }
            ]
          },
          {
            "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
            "name": "4.3 - Listar Todos los Items de Envío",
            "request": {
              "url": {
                "path": [
                  "shippings"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "GET",
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Response received\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.be.an('object');",
                    "});"
                  ],
                  "_lastExecutionId": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
                }
              }
            ]
          },
          {
            "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
            "name": "4.4 - Obtener Item de Envío Específico",
            "request": {
              "url": {
                "path": [
                  "shippings",
                  "{{test_orderId}}",
                  "{{test_productId1}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "GET",
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200, 404 o 400\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400]);",
                    "});",
                    "",
                    "if (pm.response.code === 200) {",
                    "    pm.test(\"Shipping item found\", function () {",
                    "        var jsonData = pm.response.json();",
                    "        pm.expect(jsonData).to.have.property('productId');",
                    "    });",
                    "} else if (pm.response.code === 404 || pm.response.code === 400) {",
                    "    console.log('ℹ️  Envío no encontrado o inaccesible (estado esperado cuando la orden no está en ORDERED)');",
                    "    console.log('Respuesta:', pm.response.code, pm.response.text().substring(0, 100));",
                    "}"
                  ],
                  "_lastExecutionId": "0223c0e6-84f4-4fb9-a6c4-ab81d58c4644"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "4d014ca4-b309-4486-8294-6847569037cf",
        "name": "E2E-05: Gestión de Favoritos de Usuario",
        "description": {
          "content": "Flujo completo de gestión de favoritos: agrega productos a favoritos, lista todos, consulta específico y elimina favoritos",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "321963a9-788e-4dab-b35b-11bac36ee287",
            "name": "5.1 - Agregar Producto 1 a Favoritos",
            "request": {
              "url": {
                "path": [
                  "favourites"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Favourite 1 created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                    "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                    "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                    "});"
                  ],
                  "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
                }
              }
            ]
          },
          {
            "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
            "name": "5.2 - Agregar Producto 2 a Favoritos",
            "request": {
              "url": {
                "path": [
                  "favourites"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "POST",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Favourite 2 created\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                    "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                    "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                    "});"
                  ],
                  "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
                }
              }
            ]
          },
          {
            "id": "3997e827-acd2-40da-a1b2-b467b1324988",
            "name": "5.3 - Listar Todos los Favoritos",
            "request": {
              "url": {
                "path": [
                  "favourites"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "GET",
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "e1a77352-341b-422a-811d-46de91326c5f",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Response received\", function () {",
                    "    pm.response.to.be.ok;",
                    "});"
                  ],
                  "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
                }
              }
            ]
          },
          {
            "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
            "name": "5.4 - Obtener Favorito Específico",
            "request": {
              "url": {
                "path": [
                  "favourites",
                  "{{test_userId}}",
                  "{{test_productId1}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "GET",
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200\", function () {",
                    "    pm.response.to.have.status(200);",
                    "});",
                    "",
                    "pm.test(\"Favourite has required fields\", function () {",
                    "    var jsonData = pm.response.json();",
                    "    pm.expect(jsonData).to.have.property('userId');",
                    "    pm.expect(jsonData).to.have.property('productId');",
                    "});"
                  ],
                  "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
                }
              }
            ]
          }
        ],
        "event": []
      },
      {
        "id": "633ebab2-f6f9-4d63-b286-de2671417899",
        "name": "E2E-99: Cleanup - Eliminar Datos de Prueba",
        "description": {
          "content": "Cleanup: Elimina todos los recursos creados durante los tests para permitir que la colección se ejecute nuevamente sin conflictos",
          "type": "text/plain"
        },
        "item": [
          {
            "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
            "name": "99.1 - Eliminar Favoritos",
            "request": {
              "url": {
                "path": [
                  "favourites",
                  "{{test_userId}}",
                  "{{test_productId1}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "DELETE"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200, 204 or 404\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                    "});",
                    "",
                    "console.log(\"Favoritos eliminados\");"
                  ],
                  "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
                }
              }
            ]
          },
          {
            "id": "e790bce5-9069-4817-b756-64ac1f287592",
            "name": "99.2 - Eliminar Segundo Favorito",
            "request": {
              "url": {
                "path": [
                  "favourites",
                  "{{test_userId}}",
                  "{{test_productId2}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "DELETE"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200, 204 or 404\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                    "});",
                    "",
                    "console.log(\"Segundo favorito eliminado\");"
                  ],
                  "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
                }
              }
            ]
          },
          {
            "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
            "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
            "request": {
              "url": {
                "path": [
                  "orders",
                  "{{test_orderId}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                },
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "PUT",
              "body": {
                "mode": "raw",
                "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
              },
              "auth": {
                "type": "bearer",
                "bearer": [
                  {
                    "type": "string",
                    "value": "{{jwt_token}}",
                    "key": "token"
                  }
                ]
              }
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200, 400 or 404\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                    "});",
                    "",
                    "if (pm.response.code === 200) {",
                    "    console.log(\"Orden cambiada a CANCELLED\");",
                    "} else {",
                    "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                    "}"
                  ],
                  "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
                }
              }
            ]
          },
          {
            "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
            "name": "99.3b - Eliminar Orden",
            "request": {
              "url": {
                "path": [
                  "orders",
                  "{{test_orderId}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "DELETE"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "071061d0-2290-4673-b00c-996b1705fc48",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200, 204 or 404\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                    "});",
                    "",
                    "console.log(\"Orden eliminada o no existe\");"
                  ],
                  "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
                }
              }
            ]
          },
          {
            "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
            "name": "99.4 - Eliminar Carrito",
            "request": {
              "url": {
                "path": [
                  "carts",
                  "{{test_cartId}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "DELETE"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200, 204 or 404\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                    "});",
                    "",
                    "console.log(\"Carrito eliminado\");"
                  ],
                  "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
                }
              }
            ]
          },
          {
            "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
            "name": "99.5 - Eliminar Producto 1",
            "request": {
              "url": {
                "path": [
                  "products",
                  "{{test_productId1}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "DELETE"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200, 204 or 404\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                    "});",
                    "",
                    "console.log(\"Producto 1 eliminado\");"
                  ],
                  "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
                }
              }
            ]
          },
          {
            "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
            "name": "99.6 - Eliminar Producto 2",
            "request": {
              "url": {
                "path": [
                  "products",
                  "{{test_productId2}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "DELETE"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200, 204 or 404\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                    "});",
                    "",
                    "console.log(\"Producto 2 eliminado\");"
                  ],
                  "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
                }
              }
            ]
          },
          {
            "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
            "name": "99.7 - Eliminar Categoría",
            "request": {
              "url": {
                "path": [
                  "categories",
                  "{{test_categoryId}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "DELETE"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200, 204 or 404\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                    "});",
                    "",
                    "console.log(\"Categoría eliminada\");"
                  ],
                  "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
                }
              }
            ]
          },
          {
            "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
            "name": "99.8 - Eliminar Credenciales del Usuario",
            "request": {
              "url": {
                "path": [
                  "credentials",
                  "{{test_userId}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "DELETE"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200, 204 or 404\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                    "});",
                    "",
                    "console.log(\"Credenciales del usuario eliminadas\");"
                  ],
                  "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
                }
              }
            ]
          },
          {
            "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
            "name": "99.10 - Eliminar Credenciales Admin",
            "request": {
              "url": {
                "path": [
                  "credentials",
                  "{{admin_userId}}"
                ],
                "host": [
                  "{{base_url}}"
                ],
                "query": [],
                "variable": []
              },
              "header": [
                {
                  "key": "Authorization",
                  "value": "Bearer {{jwt_token}}"
                }
              ],
              "method": "DELETE"
            },
            "response": [],
            "event": [
              {
                "listen": "test",
                "script": {
                  "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                  "type": "text/javascript",
                  "exec": [
                    "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                    "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                    "});",
                    "",
                    "if (pm.response.code === 200 || pm.response.code === 204) {",
                    "    console.log(\"✅ Credenciales admin eliminadas\");",
                    "} else {",
                    "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                    "}"
                  ],
                  "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
                }
              }
            ]
          }
        ],
        "event": []
      }
    ],
    "event": [
      {
        "listen": "prerequest",
        "script": {
          "id": "5561f01f-2990-4059-a7c9-881e7d2b7e92",
          "type": "text/javascript",
          "exec": [
            "console.log(\"🚀 Iniciando prueba: \" + pm.info.requestName);"
          ],
          "_lastExecutionId": "582c1845-687e-4364-94cc-fcbd7559973e"
        }
      },
      {
        "listen": "test",
        "script": {
          "id": "4adbd1b8-a0c5-40ad-8728-ea1567ee8b5b",
          "type": "text/javascript",
          "exec": [
            "console.log(\"✅ Prueba completada: \" + pm.info.requestName);"
          ],
          "_lastExecutionId": "f1ddbd4c-e4d8-46c6-81fb-c52e7ecef42d"
        }
      }
    ],
    "variable": [
      {
        "type": "string",
        "value": "http://localhost:8080/app/api",
        "key": "base_url"
      }
    ],
    "info": {
      "_postman_id": "ef5441c3-5a76-4161-8f2b-c7ac0c683b5a",
      "name": "E2E Ecommerce Microservices Tests",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
      "description": {
        "content": "Colección de 5 pruebas End-to-End que validan flujos completos de usuario en el sistema de microservicios de e-commerce",
        "type": "text/plain"
      }
    }
  },
  "environment": {
    "_": {
      "postman_variable_scope": "environment",
      "postman_exported_at": "2025-11-04T00:00:00.000Z",
      "postman_exported_using": "Postman/11.0.0"
    },
    "id": "local-stage",
    "name": "Local Stage Environment",
    "values": [
      {
        "type": "string",
        "value": "http://localhost:8080/app/api",
        "key": "base_url"
      },
      {
        "type": "string",
        "value": "",
        "key": "admin_userId"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_userId"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_categoryId"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_productId1"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_productId2"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_cartId"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_orderId"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_paymentId"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_shippingId1"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_shippingId2"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_favouriteId1"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_favouriteId2"
      },
      {
        "type": "string",
        "value": "",
        "key": "admin_token"
      },
      {
        "type": "string",
        "value": "",
        "key": "test_token"
      },
      {
        "type": "any",
        "value": "http://51.8.48.112:8080",
        "key": "baseUrl"
      },
      {
        "type": "any",
        "value": "http://51.8.48.112:8080",
        "key": "gatewayUrl"
      }
    ]
  },
  "globals": {
    "id": "83dc24c8-5b70-4068-b116-7a6be6de5178",
    "values": []
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 39,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 120,
        "pending": 0,
        "failed": 0
      },
      "prerequests": {
        "total": 39,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 39,
        "pending": 0,
        "failed": 39
      },
      "tests": {
        "total": 39,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 68,
        "pending": 0,
        "failed": 68
      },
      "testScripts": {
        "total": 78,
        "pending": 0,
        "failed": 0
      },
      "prerequestScripts": {
        "total": 42,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 0,
      "responseMin": 0,
      "responseMax": 0,
      "responseSd": 0,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1764115595235,
      "completed": 1764115616726
    },
    "executions": [
      {
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 39,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "8304e44a-58ef-4242-aaab-44f3820bf3b2",
          "httpRequestId": "ff2a9d1b-c69a-4c5b-9bb6-884579fca4e0"
        },
        "item": {
          "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
          "name": "0.1 - Crear Usuario Admin",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has userId\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                  "    console.log(\"Admin User ID:\", jsonData.userId);",
                  "});",
                  "",
                  "pm.test(\"User data is correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                  "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                  "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                  "});"
                ],
                "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "users"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "d15812e8-99a2-4091-a359-f5034dc837ca",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
          }
        },
        "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)"
            }
          },
          {
            "assertion": "Response has userId",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Response has userId",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:1)"
            }
          },
          {
            "assertion": "User data is correct",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "User data is correct",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:3:1)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "a56205a0-c495-46e2-8c52-5ec86e1fa12c",
          "length": 39,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "38bd022a-c0d4-4208-bcd8-5f27005a99ae"
        },
        "item": {
          "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
          "name": "0.2 - Crear Credenciales para Admin",
          "request": {
            "url": {
              "path": [
                "credentials"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{admin_userId}}\n    }\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Credentials created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('credentialId');",
                  "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                  "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                  "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                  "});"
                ],
                "_lastExecutionId": "06f5c541-5217-4bb6-b219-39ecf9173d90"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                "type": "text/javascript",
                "exec": [
                  "// Esperar un momento para asegurar que el usuario está creado",
                  "setTimeout(function(){}, 500);"
                ],
                "_lastExecutionId": "a911e9c6-1ff5-4b10-8d41-a6be0c5a4100"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "credentials"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "33e5e923-5c6d-42ea-a55a-c500914040e0",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": \n    }\n}"
          }
        },
        "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)"
            }
          },
          {
            "assertion": "Credentials created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Credentials created",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:2)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "cf379b49-ea5f-4267-9740-e2b39607aa6d",
          "length": 39,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "0f72d37f-3118-4059-867f-06ea3fc68d97"
        },
        "item": {
          "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
          "name": "0.3 - Autenticar y Obtener Token",
          "request": {
            "url": {
              "path": [
                "authenticate"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"JWT Token received\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('jwtToken');",
                  "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                  "    console.log(\"✅ JWT Token obtenido y guardado\");",
                  "    console.log(\"Token:\", jsonData.jwtToken);",
                  "});",
                  "",
                  "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                ],
                "_lastExecutionId": "85694538-9a76-4565-8eb4-284f09fdc2a9"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                "type": "text/javascript",
                "exec": [
                  "// Esperar un momento para asegurar que las credenciales están creadas",
                  "setTimeout(function(){}, 500);"
                ],
                "_lastExecutionId": "e4f7f7ef-aea7-4ec7-941d-685ea0de3516"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "authenticate"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f40ed324-3a77-4a81-ad22-39b53bf2484e",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
          }
        },
        "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)"
            }
          },
          {
            "assertion": "JWT Token received",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "JWT Token received",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:3)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "ff94a363-0d98-46f6-a954-aefe610ba04b",
          "length": 39,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "f5be944a-9f87-41e7-8e3a-1d977c6053b7"
        },
        "item": {
          "id": "35b4f041-0826-4def-bf03-63af42674860",
          "name": "1.1 - Crear Usuario Nuevo",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has userId\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.environment.set(\"test_userId\", jsonData.userId);",
                  "});",
                  "",
                  "pm.test(\"User data is correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                  "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                  "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                  "});"
                ],
                "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "users"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "18934e66-a92f-45d0-ba53-abb50dd07b4e",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "35b4f041-0826-4def-bf03-63af42674860",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)"
            }
          },
          {
            "assertion": "Response has userId",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Response has userId",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:4)"
            }
          },
          {
            "assertion": "User data is correct",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 2,
              "test": "User data is correct",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:3:4)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "de0179c1-c5e2-469f-aca1-ff6d6afa2e2f",
          "length": 39,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "926bf25c-7171-47b7-b346-0114fcf50631"
        },
        "item": {
          "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
          "name": "1.2 - Crear Credenciales para Usuario",
          "request": {
            "url": {
              "path": [
                "credentials"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Credentials created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('credentialId');",
                  "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                  "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                  "});"
                ],
                "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "credentials"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "993fd101-29fa-4646-9553-56ea1fb8fd87",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": \n    }\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)"
            }
          },
          {
            "assertion": "Credentials created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Credentials created",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:5)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "ca3bfb5e-fd92-40dc-ad5f-34a722109975",
          "length": 39,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "0e39e643-adb6-43c4-8a5d-021bb0f46334"
        },
        "item": {
          "id": "0907f30b-0cbd-4753-b843-e07444352f08",
          "name": "1.3 - Obtener Usuario Creado",
          "request": {
            "url": {
              "path": [
                "users",
                "{{test_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User exists and has correct data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                  "});"
                ],
                "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "users",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "f1876713-e30c-42b9-88c1-59a30bed0940",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "0907f30b-0cbd-4753-b843-e07444352f08",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:6)"
            }
          },
          {
            "assertion": "User exists and has correct data",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "User exists and has correct data",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:6)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "cf1234b1-0894-4137-bb67-09e163f1e5c9",
          "length": 39,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "7a48c793-f149-4826-bec0-30839ddbda48"
        },
        "item": {
          "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
          "name": "1.4 - Actualizar Teléfono del Usuario",
          "request": {
            "url": {
              "path": [
                "users",
                "{{test_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Phone number updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                  "});"
                ],
                "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "users",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "26f1f884-6893-4bce-aa44-4f28c6fc8087",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"userId\": ,\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:7)"
            }
          },
          {
            "assertion": "Phone number updated",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Phone number updated",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:7)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "002ca7f9-5c3a-4aea-a97c-04e63279fbe4",
          "length": 39,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1d8ce624-0cf5-4978-9908-e27382ec8c56"
        },
        "item": {
          "id": "bea056a3-3fda-4930-ae56-740c1417d133",
          "name": "1.5 - Verificar Usuario Actualizado",
          "request": {
            "url": {
              "path": [
                "users",
                "{{test_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User updated successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                  "});",
                  "",
                  "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                ],
                "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "users",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "3303e0fe-30fc-45b9-88c6-8cc2b1b18929",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "bea056a3-3fda-4930-ae56-740c1417d133",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:8)"
            }
          },
          {
            "assertion": "User updated successfully",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "User updated successfully",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:8)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "da09a87b-936b-455c-8165-c12ee44b5952",
          "length": 39,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "0e392028-a91d-425a-a856-996a72d631f5"
        },
        "item": {
          "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
          "name": "2.1 - Crear Categoría para Productos",
          "request": {
            "url": {
              "path": [
                "categories"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Category created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('categoryId');",
                  "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                  "});"
                ],
                "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "categories"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a1a0b558-3acb-42ab-a0f9-07c8a1e30102",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:9)"
            }
          },
          {
            "assertion": "Category created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Category created",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:9)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "de751c4a-c7d5-47d4-b701-6e95e378e258",
          "length": 39,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "a0c7236f-c030-455a-8519-7bc4e7a2767a"
        },
        "item": {
          "id": "da80b48b-c22f-4173-934f-d23c6366be69",
          "name": "2.2 - Crear Producto 1",
          "request": {
            "url": {
              "path": [
                "products"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product 1 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                  "});"
                ],
                "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "products"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "d0773166-a54d-4126-bdd4-87b5a10f2c2b",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": \n    }\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "da80b48b-c22f-4173-934f-d23c6366be69",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:10)"
            }
          },
          {
            "assertion": "Product 1 created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Product 1 created",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:10)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "d1500b60-57b9-41a2-9238-f0af3813229b",
          "length": 39,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "a5fd3034-1692-425a-b0f2-3beaf4aa4971"
        },
        "item": {
          "id": "cba22f78-b984-4186-9b8f-03e972895b65",
          "name": "2.3 - Crear Producto 2",
          "request": {
            "url": {
              "path": [
                "products"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product 2 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                  "});"
                ],
                "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "products"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "7a513e2b-c29e-42b8-9bc0-93e5df16d3d3",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": \n    }\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "cba22f78-b984-4186-9b8f-03e972895b65",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:11)"
            }
          },
          {
            "assertion": "Product 2 created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Product 2 created",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:11)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "c8d32eff-a4f0-4f13-ad0e-57ce184296f2",
          "length": 39,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "84193297-ff22-44da-baba-47c3891ae0cb"
        },
        "item": {
          "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
          "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
          "request": {
            "url": {
              "path": [
                "carts"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": {{test_userId}}\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                "type": "text/javascript",
                "exec": [
                  "// Verificar que el token JWT existe",
                  "const token = pm.environment.get(\"jwt_token\");",
                  "if (!token) {",
                  "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                  "}",
                  "",
                  "// Verificar que el userId existe",
                  "const userId = pm.environment.get(\"test_userId\");",
                  "if (!userId) {",
                  "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                  "}",
                  "",
                  "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                  "console.log('User ID:', userId);"
                ],
                "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                "type": "text/javascript",
                "exec": [
                  "// Manejo de errores más detallado",
                  "if (pm.response.code === 403) {",
                  "    console.error('❌ Error 403 - Forbidden');",
                  "    console.error('Posibles causas:');",
                  "    console.error('1. Token JWT expirado o inválido');",
                  "    console.error('2. Usuario sin permisos para crear carritos');",
                  "    console.error('3. El usuario test_userId no existe');",
                  "    ",
                  "    const responseBody = pm.response.text();",
                  "    console.error('Respuesta del servidor:', responseBody);",
                  "}",
                  "",
                  "pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "});",
                  "",
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    pm.test(\"Cart created\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('cartId');",
                  "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                  "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                  "    });",
                  "}"
                ],
                "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "carts"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "5397b127-7083-4bf5-814a-ea2608123691",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"userId\": \n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200 or 201",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200 or 201",
              "message": "expected undefined to be one of [ 200, 201 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 201 ]\n   at Object.eval sandbox-script.js:1:12)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "334b0f66-df35-4c8c-afac-ad6245331bbc",
          "length": 39,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "3bcaedf7-fb0d-4f22-b04a-b6dc341a33ab"
        },
        "item": {
          "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
          "name": "2.5 - Crear Orden con Productos",
          "request": {
            "url": {
              "path": [
                "orders"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Order created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('orderId');",
                  "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                  "});"
                ],
                "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "orders"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "99c05549-c7e5-43e8-bbdb-322a5837372e",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": \n    }\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:13)"
            }
          },
          {
            "assertion": "Order created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Order created",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:13)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "6b129a03-def4-42ff-9fe6-b28cb2931f2f",
          "length": 39,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "fd3f8434-e452-4ce9-ac46-6074d04f6208"
        },
        "item": {
          "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
          "name": "2.6 - Actualizar Estado de Orden a ORDERED",
          "request": {
            "url": {
              "path": [
                "orders",
                "{{test_orderId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Order updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('orderId');",
                  "    pm.expect(jsonData).to.have.property('orderStatus');",
                  "});",
                  "",
                  "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                ],
                "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "orders",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "d17a0537-6e40-46a5-802f-9fa228a2094a",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"orderId\": ,\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": \n    }\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:14)"
            }
          },
          {
            "assertion": "Order updated",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Order updated",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:14)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "2e551402-eb91-44e9-afde-d0053a570e4c",
          "length": 39,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "f710e05d-5b8f-4d0a-a938-540485fa8e26"
        },
        "item": {
          "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
          "name": "2.7 - Crear Pago para la Orden",
          "request": {
            "url": {
              "path": [
                "payments"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Payment created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('paymentId');",
                  "    pm.expect(jsonData.paymentStatus).to.exist;",
                  "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                  "});"
                ],
                "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "payments"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "5a8da715-5061-4063-8e53-bc15393dff99",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": \n    }\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:15)"
            }
          },
          {
            "assertion": "Payment created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Payment created",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:15)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "03af64c1-67e3-4028-bd76-4e51b200dec2",
          "length": 39,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "2b4bdad2-5dd4-4b74-8072-92cde3c1ca98"
        },
        "item": {
          "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
          "name": "2.8 - Completar Pago",
          "request": {
            "url": {
              "path": [
                "payments",
                "{{test_paymentId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Payment updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('paymentId');",
                  "    pm.expect(jsonData).to.have.property('paymentStatus');",
                  "});"
                ],
                "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "payments",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "fae023fe-265b-413a-9a07-5be5f8ddddee",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": ""
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:16)"
            }
          },
          {
            "assertion": "Payment updated",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Payment updated",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:16)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "3dfcb267-cfb0-487b-ba9f-23a8439d6e7a",
          "length": 39,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "0a97db49-b68f-4a29-9f83-4eb5e45359da"
        },
        "item": {
          "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
          "name": "3.1 - Listar Todos los Productos",
          "request": {
            "url": {
              "path": [
                "products"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has products\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "});"
                ],
                "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "products"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "5fe054d3-5327-4bda-a9ec-ce8410cc045c",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:17)"
            }
          },
          {
            "assertion": "Response has products",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Response has products",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:17)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "0b7171cc-1464-44be-bedc-bb5608995ee6",
          "length": 39,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "7e5166dc-f53d-42d1-8983-421959fe1a2e"
        },
        "item": {
          "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
          "name": "3.2 - Obtener Producto Específico",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product details are correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                  "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                  "    pm.expect(jsonData.quantity).to.eql(50);",
                  "});"
                ],
                "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "products",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "ca35c6e4-9924-43a9-81a7-fb89e95afffb",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:18)"
            }
          },
          {
            "assertion": "Product details are correct",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Product details are correct",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:18)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "04798b59-73c6-4c1e-a98b-3d7f1f9e25a2",
          "length": 39,
          "cycles": 1,
          "position": 18,
          "iteration": 0,
          "httpRequestId": "9e021c86-9428-4f4f-80fe-115cbee316a2"
        },
        "item": {
          "id": "269948d9-1257-4342-a1fc-50fe019459e4",
          "name": "3.3 - Actualizar Stock del Producto",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "products",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "8870acdc-55e8-4493-a364-68bea30bdd28",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"productId\": ,\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": \n    }\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "269948d9-1257-4342-a1fc-50fe019459e4",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:19)"
            }
          },
          {
            "assertion": "Product updated",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Product updated",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:19)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "4ac426fa-31d1-4701-9ca4-56828eba04ac",
          "length": 39,
          "cycles": 1,
          "position": 19,
          "iteration": 0,
          "httpRequestId": "914ed14b-b815-461e-ba08-89ae281b8bb2"
        },
        "item": {
          "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
          "name": "3.4 - Actualizar Precio del Producto",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "products",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "198dd511-4889-4394-a1cc-7fd8dbf9813d",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"productId\": ,\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": \n    }\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:20)"
            }
          },
          {
            "assertion": "Product updated",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Product updated",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:20)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "abbb80fc-cca5-40ee-abf8-e4415cff940c",
          "length": 39,
          "cycles": 1,
          "position": 20,
          "iteration": 0,
          "httpRequestId": "da0ebe4e-3eea-4ca5-b8d2-93ed6120dbec"
        },
        "item": {
          "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
          "name": "3.5 - Verificar Cambios en el Producto",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product retrieved\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});",
                  "",
                  "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                ],
                "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "products",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "e7a23dd6-47b1-4f3f-84b9-649e20e56831",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:21)"
            }
          },
          {
            "assertion": "Product retrieved",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Product retrieved",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:21)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "8e8cb75e-a090-48b1-8fc1-dd2804083baf",
          "length": 39,
          "cycles": 1,
          "position": 21,
          "iteration": 0,
          "httpRequestId": "414ea4dd-195f-4db3-9f38-48a8b1958c1c"
        },
        "item": {
          "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
          "name": "4.1 - Crear Item de Envío 1",
          "request": {
            "url": {
              "path": [
                "shippings"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId1}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 1\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Shipping item created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "shippings"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "51ebf3c0-1559-43b1-8e0c-92380c92b45f",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"productId\": ,\n    \"orderId\": ,\n    \"orderedQuantity\": 1\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:22)"
            }
          },
          {
            "assertion": "Shipping item created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Shipping item created",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:22)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "039fcea4-d917-4c7b-891e-5affd1968d86",
          "length": 39,
          "cycles": 1,
          "position": 22,
          "iteration": 0,
          "httpRequestId": "0252e28a-3c59-4626-8881-d5cdb49f9ea8"
        },
        "item": {
          "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
          "name": "4.2 - Crear Item de Envío 2",
          "request": {
            "url": {
              "path": [
                "shippings"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId2}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 2\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Shipping item created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "shippings"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a4193f36-2a38-48cb-bbe0-ccaccc4c7299",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"productId\": ,\n    \"orderId\": ,\n    \"orderedQuantity\": 2\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:23)"
            }
          },
          {
            "assertion": "Shipping item created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Shipping item created",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:23)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "052318da-7e5d-4165-a5ea-ff602774bc26",
          "length": 39,
          "cycles": 1,
          "position": 23,
          "iteration": 0,
          "httpRequestId": "e1ebfd3a-3e81-4150-8b54-475e1beae867"
        },
        "item": {
          "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
          "name": "4.3 - Listar Todos los Items de Envío",
          "request": {
            "url": {
              "path": [
                "shippings"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response received\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "});"
                ],
                "_lastExecutionId": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "shippings"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "52e8e4ee-50d3-4a0e-8214-16627776a822",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:24)"
            }
          },
          {
            "assertion": "Response received",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Response received",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:24)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "421368ab-dbb0-4f21-845d-c6523e8a3720",
          "length": 39,
          "cycles": 1,
          "position": 24,
          "iteration": 0,
          "httpRequestId": "1d011e9c-b873-43c7-970c-fb4ede0f6d6a"
        },
        "item": {
          "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
          "name": "4.4 - Obtener Item de Envío Específico",
          "request": {
            "url": {
              "path": [
                "shippings",
                "{{test_orderId}}",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 404 o 400\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400]);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    pm.test(\"Shipping item found\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('productId');",
                  "    });",
                  "} else if (pm.response.code === 404 || pm.response.code === 400) {",
                  "    console.log('ℹ️  Envío no encontrado o inaccesible (estado esperado cuando la orden no está en ORDERED)');",
                  "    console.log('Respuesta:', pm.response.code, pm.response.text().substring(0, 100));",
                  "}"
                ],
                "_lastExecutionId": "0223c0e6-84f4-4fb9-a6c4-ab81d58c4644"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "shippings",
              "",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "95dd4d88-75ec-4f6d-a22c-543de3ace3a6",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200, 404 o 400",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200, 404 o 400",
              "message": "expected undefined to be one of [ 200, 404, 400 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 404, 400 ]\n   at Object.eval sandbox-script.js:1:25)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "e75a7f27-a3d3-44a2-befb-dca868c23d53",
          "length": 39,
          "cycles": 1,
          "position": 25,
          "iteration": 0,
          "httpRequestId": "b4adecc0-dc4d-4863-aa43-e2e16a11f0e8"
        },
        "item": {
          "id": "321963a9-788e-4dab-b35b-11bac36ee287",
          "name": "5.1 - Agregar Producto 1 a Favoritos",
          "request": {
            "url": {
              "path": [
                "favourites"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite 1 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                  "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                  "});"
                ],
                "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "favourites"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "395f0b16-9b89-4349-b979-64af660f6ae2",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"userId\": ,\n    \"productId\": ,\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "321963a9-788e-4dab-b35b-11bac36ee287",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:26)"
            }
          },
          {
            "assertion": "Favourite 1 created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Favourite 1 created",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:26)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "4d15deaf-59a1-45bc-b39a-ad01162287d0",
          "length": 39,
          "cycles": 1,
          "position": 26,
          "iteration": 0,
          "httpRequestId": "2ba0b283-30bc-412e-9974-8bc0385f3816"
        },
        "item": {
          "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
          "name": "5.2 - Agregar Producto 2 a Favoritos",
          "request": {
            "url": {
              "path": [
                "favourites"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite 2 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                  "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                  "});"
                ],
                "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "favourites"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "4c4a8098-8bf2-4ab6-9888-26e1c604f128",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"userId\": ,\n    \"productId\": ,\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:27)"
            }
          },
          {
            "assertion": "Favourite 2 created",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Favourite 2 created",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:27)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "424fd17b-a750-4d58-ae2b-a9b24b098ffd",
          "length": 39,
          "cycles": 1,
          "position": 27,
          "iteration": 0,
          "httpRequestId": "2219b322-11a4-4e57-aa9d-7a13872bc7d6"
        },
        "item": {
          "id": "3997e827-acd2-40da-a1b2-b467b1324988",
          "name": "5.3 - Listar Todos los Favoritos",
          "request": {
            "url": {
              "path": [
                "favourites"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e1a77352-341b-422a-811d-46de91326c5f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response received\", function () {",
                  "    pm.response.to.be.ok;",
                  "});"
                ],
                "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "favourites"
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "092d0919-54c0-486e-9462-a44c835a4bc7",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "3997e827-acd2-40da-a1b2-b467b1324988",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:28)"
            }
          },
          {
            "assertion": "Response received",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 1,
              "test": "Response received",
              "message": "expected response to have status reason 'OK' but got 'UNDEFINED'",
              "stack": "AssertionError: expected response to have status reason 'OK' but got 'UNDEFINED'\n   at Object.eval sandbox-script.js:2:28)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "dbe570f6-0b13-4745-9932-4030629a2615",
          "length": 39,
          "cycles": 1,
          "position": 28,
          "iteration": 0,
          "httpRequestId": "5a6b4537-4507-48ef-8b67-608781ea1dbf"
        },
        "item": {
          "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
          "name": "5.4 - Obtener Favorito Específico",
          "request": {
            "url": {
              "path": [
                "favourites",
                "{{test_userId}}",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite has required fields\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "favourites",
              "",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "966fff41-2da3-4a69-bda9-409403c7d948",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200",
              "message": "expected PostmanResponse{ …(5) } to have property 'code'",
              "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:29)"
            }
          },
          {
            "assertion": "Favourite has required fields",
            "skipped": false,
            "error": {
              "name": "JSONError",
              "index": 1,
              "test": "Favourite has required fields",
              "message": "Unexpected token u in JSON at position 0",
              "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:29)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "c4138567-b9e2-4736-b468-18bb3165e31c",
          "length": 39,
          "cycles": 1,
          "position": 29,
          "iteration": 0,
          "httpRequestId": "94b45c7e-eb37-409e-b34b-592d7623cdc6"
        },
        "item": {
          "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
          "name": "99.1 - Eliminar Favoritos",
          "request": {
            "url": {
              "path": [
                "favourites",
                "{{test_userId}}",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Favoritos eliminados\");"
                ],
                "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "favourites",
              "",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "ea94fa27-30c6-406e-b0a5-09bf6aa720dc",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200, 204 or 404",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200, 204 or 404",
              "message": "expected undefined to be one of [ 200, 204, 404 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:30)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "6e656cb2-0a77-478c-84cf-d565a0d89e6a",
          "length": 39,
          "cycles": 1,
          "position": 30,
          "iteration": 0,
          "httpRequestId": "cfedb6a0-76eb-40d1-bf3a-4eaa8d38db89"
        },
        "item": {
          "id": "e790bce5-9069-4817-b756-64ac1f287592",
          "name": "99.2 - Eliminar Segundo Favorito",
          "request": {
            "url": {
              "path": [
                "favourites",
                "{{test_userId}}",
                "{{test_productId2}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Segundo favorito eliminado\");"
                ],
                "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "favourites",
              "",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "054deed5-f1dc-4029-9079-92e8e4177132",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "e790bce5-9069-4817-b756-64ac1f287592",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200, 204 or 404",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200, 204 or 404",
              "message": "expected undefined to be one of [ 200, 204, 404 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:31)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "660faff1-b04d-47a6-9894-ca747192a463",
          "length": 39,
          "cycles": 1,
          "position": 31,
          "iteration": 0,
          "httpRequestId": "14085c5d-4a47-4682-b44a-0b88f645917d"
        },
        "item": {
          "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
          "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
          "request": {
            "url": {
              "path": [
                "orders",
                "{{test_orderId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 400 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    console.log(\"Orden cambiada a CANCELLED\");",
                  "} else {",
                  "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                  "}"
                ],
                "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "orders",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Content-Type",
              "value": "application/json"
            },
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}",
              "system": true
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "a341daaa-c1f6-4476-a5b2-0a67645a0a5e",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "PUT",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"orderId\": ,\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": \n    }\n}"
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{jwt_token}}",
                "key": "token"
              }
            ]
          }
        },
        "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200, 400 or 404",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200, 400 or 404",
              "message": "expected undefined to be one of [ 200, 400, 404 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 400, 404 ]\n   at Object.eval sandbox-script.js:1:32)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "007e6085-e97e-4fac-8f29-4a8cf45ece0f",
          "length": 39,
          "cycles": 1,
          "position": 32,
          "iteration": 0,
          "httpRequestId": "f00a783d-b00d-4a42-a4e1-31a351605044"
        },
        "item": {
          "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
          "name": "99.3b - Eliminar Orden",
          "request": {
            "url": {
              "path": [
                "orders",
                "{{test_orderId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "071061d0-2290-4673-b00c-996b1705fc48",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Orden eliminada o no existe\");"
                ],
                "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "orders",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "943d34f7-ae2b-4160-8501-b9185db59ac5",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200, 204 or 404",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200, 204 or 404",
              "message": "expected undefined to be one of [ 200, 204, 404 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:33)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "86a38310-b2f2-44a7-8f50-80581eaa3f6d",
          "length": 39,
          "cycles": 1,
          "position": 33,
          "iteration": 0,
          "httpRequestId": "f52a23c4-1f70-4f5f-87d8-1b5774e05dff"
        },
        "item": {
          "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
          "name": "99.4 - Eliminar Carrito",
          "request": {
            "url": {
              "path": [
                "carts",
                "{{test_cartId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Carrito eliminado\");"
                ],
                "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "carts",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "9f3c8717-dc1f-4a83-972c-443886104a7d",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200, 204 or 404",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200, 204 or 404",
              "message": "expected undefined to be one of [ 200, 204, 404 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:34)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "27ed0275-e32f-4866-876e-f892cc93b861",
          "length": 39,
          "cycles": 1,
          "position": 34,
          "iteration": 0,
          "httpRequestId": "e6d20414-2f83-4130-a035-8c812fefa392"
        },
        "item": {
          "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
          "name": "99.5 - Eliminar Producto 1",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Producto 1 eliminado\");"
                ],
                "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "products",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "af9abe9e-622f-4ba8-9303-9b9d4f293d0d",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200, 204 or 404",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200, 204 or 404",
              "message": "expected undefined to be one of [ 200, 204, 404 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:35)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "2f3fb523-d2a8-4bcf-bba2-f7734b3f9871",
          "length": 39,
          "cycles": 1,
          "position": 35,
          "iteration": 0,
          "httpRequestId": "af30554a-df66-4989-8122-c07e82603fe9"
        },
        "item": {
          "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
          "name": "99.6 - Eliminar Producto 2",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId2}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Producto 2 eliminado\");"
                ],
                "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "products",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "563501cf-245e-4e73-be32-5a037ddd2541",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200, 204 or 404",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200, 204 or 404",
              "message": "expected undefined to be one of [ 200, 204, 404 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:36)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "f695481d-462f-4207-b9c7-1340bc3cefc6",
          "length": 39,
          "cycles": 1,
          "position": 36,
          "iteration": 0,
          "httpRequestId": "8a828522-d455-4336-a55c-b09a8b5c5252"
        },
        "item": {
          "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
          "name": "99.7 - Eliminar Categoría",
          "request": {
            "url": {
              "path": [
                "categories",
                "{{test_categoryId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Categoría eliminada\");"
                ],
                "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "categories",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "ad5a5d19-2971-4f25-ab89-d40c1bdaaed3",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200, 204 or 404",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200, 204 or 404",
              "message": "expected undefined to be one of [ 200, 204, 404 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:37)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "4cccb58f-a130-4a9a-9d29-ffadeafd7c31",
          "length": 39,
          "cycles": 1,
          "position": 37,
          "iteration": 0,
          "httpRequestId": "ec8a8949-3d11-4133-b944-b959be4ce3eb"
        },
        "item": {
          "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
          "name": "99.8 - Eliminar Credenciales del Usuario",
          "request": {
            "url": {
              "path": [
                "credentials",
                "{{test_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Credenciales del usuario eliminadas\");"
                ],
                "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "credentials",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "b1338777-4bc6-475f-9d4e-416fa52e3876",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200, 204 or 404",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200, 204 or 404",
              "message": "expected undefined to be one of [ 200, 204, 404 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:38)"
            }
          }
        ]
      },
      {
        "cursor": {
          "ref": "6232cc36-2fd1-4275-9333-24246f3e6e61",
          "length": 39,
          "cycles": 1,
          "position": 38,
          "iteration": 0,
          "httpRequestId": "0f4920c8-4187-4336-b0ac-4e0b5e14a544"
        },
        "item": {
          "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
          "name": "99.10 - Eliminar Credenciales Admin",
          "request": {
            "url": {
              "path": [
                "credentials",
                "{{admin_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                  "});",
                  "",
                  "if (pm.response.code === 200 || pm.response.code === 204) {",
                  "    console.log(\"✅ Credenciales admin eliminadas\");",
                  "} else {",
                  "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                  "}"
                ],
                "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
              }
            }
          ]
        },
        "request": {
          "url": {
            "protocol": "http",
            "port": "8080",
            "path": [
              "app",
              "api",
              "credentials",
              ""
            ],
            "host": [
              "localhost"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Authorization",
              "value": "Bearer {{jwt_token}}"
            },
            {
              "key": "User-Agent",
              "value": "PostmanRuntime/7.39.1",
              "system": true
            },
            {
              "key": "Accept",
              "value": "*/*",
              "system": true
            },
            {
              "key": "Cache-Control",
              "value": "no-cache",
              "system": true
            },
            {
              "key": "Postman-Token",
              "value": "abae9694-2491-420e-baa0-778c1dbe7604",
              "system": true
            },
            {
              "key": "Host",
              "value": "localhost:8080",
              "system": true
            },
            {
              "key": "Accept-Encoding",
              "value": "gzip, deflate, br",
              "system": true
            },
            {
              "key": "Connection",
              "value": "keep-alive",
              "system": true
            }
          ],
          "method": "DELETE"
        },
        "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
        "requestError": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080
        },
        "assertions": [
          {
            "assertion": "Status code is 200, 204, 400 or 404",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Status code is 200, 204, 400 or 404",
              "message": "expected undefined to be one of [ 200, 204, 400, 404 ]",
              "stack": "AssertionError: expected undefined to be one of [ 200, 204, 400, 404 ]\n   at Object.eval sandbox-script.js:1:39)"
            }
          }
        ]
      }
    ],
    "transfers": {
      "responseTotal": 0
    },
    "failures": [
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "a37e4fc6-f946-4745-a442-1c077fe1a8ad",
          "timestamp": 1764115595779,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
          "name": "0.1 - Crear Usuario Admin",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "users"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "d15812e8-99a2-4091-a359-f5034dc837ca",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has userId\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                  "    console.log(\"Admin User ID:\", jsonData.userId);",
                  "});",
                  "",
                  "pm.test(\"User data is correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                  "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                  "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 39,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "8304e44a-58ef-4242-aaab-44f3820bf3b2",
          "httpRequestId": "ff2a9d1b-c69a-4c5b-9bb6-884579fca4e0"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:1)",
          "checksum": "8f1a38fbb4708623aafe992d2647a097",
          "id": "d55e81df-01ab-47f3-b29c-41ca3eac4f87",
          "timestamp": 1764115595795,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
          "name": "0.1 - Crear Usuario Admin",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has userId\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                  "    console.log(\"Admin User ID:\", jsonData.userId);",
                  "});",
                  "",
                  "pm.test(\"User data is correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                  "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                  "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                  "});"
                ],
                "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
              }
            }
          ]
        },
        "parent": {
          "id": "8648df09-0c53-4845-93cf-ecb6068e2417",
          "name": "E2E-00: Setup Autenticación",
          "description": {
            "content": "Setup inicial: Crea un usuario administrador, sus credenciales y obtiene el token JWT para las pruebas",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
              "name": "0.1 - Crear Usuario Admin",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                      "    console.log(\"Admin User ID:\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                      "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
                  }
                }
              ]
            },
            {
              "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
              "name": "0.2 - Crear Credenciales para Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{admin_userId}}\n    }\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                      "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                      "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "06f5c541-5217-4bb6-b219-39ecf9173d90"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que el usuario está creado",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "a911e9c6-1ff5-4b10-8d41-a6be0c5a4100"
                  }
                }
              ]
            },
            {
              "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
              "name": "0.3 - Autenticar y Obtener Token",
              "request": {
                "url": {
                  "path": [
                    "authenticate"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"JWT Token received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('jwtToken');",
                      "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                      "    console.log(\"✅ JWT Token obtenido y guardado\");",
                      "    console.log(\"Token:\", jsonData.jwtToken);",
                      "});",
                      "",
                      "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                    ],
                    "_lastExecutionId": "85694538-9a76-4565-8eb4-284f09fdc2a9"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que las credenciales están creadas",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "e4f7f7ef-aea7-4ec7-941d-685ea0de3516"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 39,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "8304e44a-58ef-4242-aaab-44f3820bf3b2",
          "httpRequestId": "ff2a9d1b-c69a-4c5b-9bb6-884579fca4e0",
          "scriptId": "16c4d322-f87d-4595-9929-f503a727e85b",
          "execution": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Response has userId",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:1)",
          "checksum": "5fd675f65cff9a03746494b0133328d6",
          "id": "acbaeaf4-94ee-411f-beca-88278a5ffe21",
          "timestamp": 1764115595796,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
          "name": "0.1 - Crear Usuario Admin",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has userId\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                  "    console.log(\"Admin User ID:\", jsonData.userId);",
                  "});",
                  "",
                  "pm.test(\"User data is correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                  "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                  "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                  "});"
                ],
                "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
              }
            }
          ]
        },
        "parent": {
          "id": "8648df09-0c53-4845-93cf-ecb6068e2417",
          "name": "E2E-00: Setup Autenticación",
          "description": {
            "content": "Setup inicial: Crea un usuario administrador, sus credenciales y obtiene el token JWT para las pruebas",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
              "name": "0.1 - Crear Usuario Admin",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                      "    console.log(\"Admin User ID:\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                      "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
                  }
                }
              ]
            },
            {
              "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
              "name": "0.2 - Crear Credenciales para Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{admin_userId}}\n    }\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                      "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                      "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "06f5c541-5217-4bb6-b219-39ecf9173d90"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que el usuario está creado",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "a911e9c6-1ff5-4b10-8d41-a6be0c5a4100"
                  }
                }
              ]
            },
            {
              "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
              "name": "0.3 - Autenticar y Obtener Token",
              "request": {
                "url": {
                  "path": [
                    "authenticate"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"JWT Token received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('jwtToken');",
                      "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                      "    console.log(\"✅ JWT Token obtenido y guardado\");",
                      "    console.log(\"Token:\", jsonData.jwtToken);",
                      "});",
                      "",
                      "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                    ],
                    "_lastExecutionId": "85694538-9a76-4565-8eb4-284f09fdc2a9"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que las credenciales están creadas",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "e4f7f7ef-aea7-4ec7-941d-685ea0de3516"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 39,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "8304e44a-58ef-4242-aaab-44f3820bf3b2",
          "httpRequestId": "ff2a9d1b-c69a-4c5b-9bb6-884579fca4e0",
          "scriptId": "16c4d322-f87d-4595-9929-f503a727e85b",
          "execution": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "User data is correct",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:3:1)",
          "checksum": "4bd87ef082b76d33d49b58eb6822f184",
          "id": "5f5987a8-fd85-4cba-bb7f-1d00c7b57e7c",
          "timestamp": 1764115595797,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 1,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
          "name": "0.1 - Crear Usuario Admin",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has userId\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                  "    console.log(\"Admin User ID:\", jsonData.userId);",
                  "});",
                  "",
                  "pm.test(\"User data is correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                  "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                  "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                  "});"
                ],
                "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
              }
            }
          ]
        },
        "parent": {
          "id": "8648df09-0c53-4845-93cf-ecb6068e2417",
          "name": "E2E-00: Setup Autenticación",
          "description": {
            "content": "Setup inicial: Crea un usuario administrador, sus credenciales y obtiene el token JWT para las pruebas",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
              "name": "0.1 - Crear Usuario Admin",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                      "    console.log(\"Admin User ID:\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                      "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
                  }
                }
              ]
            },
            {
              "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
              "name": "0.2 - Crear Credenciales para Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{admin_userId}}\n    }\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                      "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                      "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "06f5c541-5217-4bb6-b219-39ecf9173d90"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que el usuario está creado",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "a911e9c6-1ff5-4b10-8d41-a6be0c5a4100"
                  }
                }
              ]
            },
            {
              "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
              "name": "0.3 - Autenticar y Obtener Token",
              "request": {
                "url": {
                  "path": [
                    "authenticate"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"JWT Token received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('jwtToken');",
                      "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                      "    console.log(\"✅ JWT Token obtenido y guardado\");",
                      "    console.log(\"Token:\", jsonData.jwtToken);",
                      "});",
                      "",
                      "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                    ],
                    "_lastExecutionId": "85694538-9a76-4565-8eb4-284f09fdc2a9"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que las credenciales están creadas",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "e4f7f7ef-aea7-4ec7-941d-685ea0de3516"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 39,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "8304e44a-58ef-4242-aaab-44f3820bf3b2",
          "httpRequestId": "ff2a9d1b-c69a-4c5b-9bb6-884579fca4e0",
          "scriptId": "16c4d322-f87d-4595-9929-f503a727e85b",
          "execution": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "06287914-864f-4939-ba2a-e921f6f811a5",
          "timestamp": 1764115596824,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
          "name": "0.2 - Crear Credenciales para Admin",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "credentials"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "33e5e923-5c6d-42ea-a55a-c500914040e0",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": \n    }\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Credentials created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('credentialId');",
                  "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                  "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                  "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                  "});"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                "type": "text/javascript",
                "exec": [
                  "// Esperar un momento para asegurar que el usuario está creado",
                  "setTimeout(function(){}, 500);"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "a56205a0-c495-46e2-8c52-5ec86e1fa12c",
          "length": 39,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "38bd022a-c0d4-4208-bcd8-5f27005a99ae"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:2)",
          "checksum": "169020131664477cec85b1c00a6464f6",
          "id": "d12c87a4-af4f-4a96-9ab4-703b9e7d13a5",
          "timestamp": 1764115596833,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
          "name": "0.2 - Crear Credenciales para Admin",
          "request": {
            "url": {
              "path": [
                "credentials"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{admin_userId}}\n    }\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Credentials created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('credentialId');",
                  "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                  "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                  "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                  "});"
                ],
                "_lastExecutionId": "06f5c541-5217-4bb6-b219-39ecf9173d90"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                "type": "text/javascript",
                "exec": [
                  "// Esperar un momento para asegurar que el usuario está creado",
                  "setTimeout(function(){}, 500);"
                ],
                "_lastExecutionId": "a911e9c6-1ff5-4b10-8d41-a6be0c5a4100"
              }
            }
          ]
        },
        "parent": {
          "id": "8648df09-0c53-4845-93cf-ecb6068e2417",
          "name": "E2E-00: Setup Autenticación",
          "description": {
            "content": "Setup inicial: Crea un usuario administrador, sus credenciales y obtiene el token JWT para las pruebas",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
              "name": "0.1 - Crear Usuario Admin",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                      "    console.log(\"Admin User ID:\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                      "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
                  }
                }
              ]
            },
            {
              "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
              "name": "0.2 - Crear Credenciales para Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{admin_userId}}\n    }\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                      "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                      "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "06f5c541-5217-4bb6-b219-39ecf9173d90"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que el usuario está creado",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "a911e9c6-1ff5-4b10-8d41-a6be0c5a4100"
                  }
                }
              ]
            },
            {
              "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
              "name": "0.3 - Autenticar y Obtener Token",
              "request": {
                "url": {
                  "path": [
                    "authenticate"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"JWT Token received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('jwtToken');",
                      "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                      "    console.log(\"✅ JWT Token obtenido y guardado\");",
                      "    console.log(\"Token:\", jsonData.jwtToken);",
                      "});",
                      "",
                      "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                    ],
                    "_lastExecutionId": "85694538-9a76-4565-8eb4-284f09fdc2a9"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que las credenciales están creadas",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "e4f7f7ef-aea7-4ec7-941d-685ea0de3516"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a56205a0-c495-46e2-8c52-5ec86e1fa12c",
          "length": 39,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "38bd022a-c0d4-4208-bcd8-5f27005a99ae",
          "scriptId": "fb012370-2639-4a60-8a66-de9f7f68629f",
          "execution": "06f5c541-5217-4bb6-b219-39ecf9173d90"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Credentials created",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:2)",
          "checksum": "1ffd42bf2a1e36c7f026ae54452ea46b",
          "id": "dff8039b-8f68-4934-a81f-12b01fbed022",
          "timestamp": 1764115596834,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 2,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
          "name": "0.2 - Crear Credenciales para Admin",
          "request": {
            "url": {
              "path": [
                "credentials"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{admin_userId}}\n    }\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Credentials created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('credentialId');",
                  "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                  "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                  "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                  "});"
                ],
                "_lastExecutionId": "06f5c541-5217-4bb6-b219-39ecf9173d90"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                "type": "text/javascript",
                "exec": [
                  "// Esperar un momento para asegurar que el usuario está creado",
                  "setTimeout(function(){}, 500);"
                ],
                "_lastExecutionId": "a911e9c6-1ff5-4b10-8d41-a6be0c5a4100"
              }
            }
          ]
        },
        "parent": {
          "id": "8648df09-0c53-4845-93cf-ecb6068e2417",
          "name": "E2E-00: Setup Autenticación",
          "description": {
            "content": "Setup inicial: Crea un usuario administrador, sus credenciales y obtiene el token JWT para las pruebas",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
              "name": "0.1 - Crear Usuario Admin",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                      "    console.log(\"Admin User ID:\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                      "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
                  }
                }
              ]
            },
            {
              "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
              "name": "0.2 - Crear Credenciales para Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{admin_userId}}\n    }\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                      "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                      "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "06f5c541-5217-4bb6-b219-39ecf9173d90"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que el usuario está creado",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "a911e9c6-1ff5-4b10-8d41-a6be0c5a4100"
                  }
                }
              ]
            },
            {
              "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
              "name": "0.3 - Autenticar y Obtener Token",
              "request": {
                "url": {
                  "path": [
                    "authenticate"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"JWT Token received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('jwtToken');",
                      "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                      "    console.log(\"✅ JWT Token obtenido y guardado\");",
                      "    console.log(\"Token:\", jsonData.jwtToken);",
                      "});",
                      "",
                      "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                    ],
                    "_lastExecutionId": "85694538-9a76-4565-8eb4-284f09fdc2a9"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que las credenciales están creadas",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "e4f7f7ef-aea7-4ec7-941d-685ea0de3516"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "a56205a0-c495-46e2-8c52-5ec86e1fa12c",
          "length": 39,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "38bd022a-c0d4-4208-bcd8-5f27005a99ae",
          "scriptId": "fb012370-2639-4a60-8a66-de9f7f68629f",
          "execution": "06f5c541-5217-4bb6-b219-39ecf9173d90"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "20c79551-d657-4d24-a9e4-d7f0b36c12ae",
          "timestamp": 1764115597855,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
          "name": "0.3 - Autenticar y Obtener Token",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "authenticate"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "f40ed324-3a77-4a81-ad22-39b53bf2484e",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"JWT Token received\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('jwtToken');",
                  "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                  "    console.log(\"✅ JWT Token obtenido y guardado\");",
                  "    console.log(\"Token:\", jsonData.jwtToken);",
                  "});",
                  "",
                  "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                ]
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                "type": "text/javascript",
                "exec": [
                  "// Esperar un momento para asegurar que las credenciales están creadas",
                  "setTimeout(function(){}, 500);"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "cf379b49-ea5f-4267-9740-e2b39607aa6d",
          "length": 39,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "0f72d37f-3118-4059-867f-06ea3fc68d97"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:3)",
          "checksum": "470ce06f8bb94c3fa9bc0a37723a5549",
          "id": "90c60400-90de-4362-b9d9-d6c1a705945d",
          "timestamp": 1764115597863,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
          "name": "0.3 - Autenticar y Obtener Token",
          "request": {
            "url": {
              "path": [
                "authenticate"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"JWT Token received\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('jwtToken');",
                  "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                  "    console.log(\"✅ JWT Token obtenido y guardado\");",
                  "    console.log(\"Token:\", jsonData.jwtToken);",
                  "});",
                  "",
                  "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                ],
                "_lastExecutionId": "85694538-9a76-4565-8eb4-284f09fdc2a9"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                "type": "text/javascript",
                "exec": [
                  "// Esperar un momento para asegurar que las credenciales están creadas",
                  "setTimeout(function(){}, 500);"
                ],
                "_lastExecutionId": "e4f7f7ef-aea7-4ec7-941d-685ea0de3516"
              }
            }
          ]
        },
        "parent": {
          "id": "8648df09-0c53-4845-93cf-ecb6068e2417",
          "name": "E2E-00: Setup Autenticación",
          "description": {
            "content": "Setup inicial: Crea un usuario administrador, sus credenciales y obtiene el token JWT para las pruebas",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
              "name": "0.1 - Crear Usuario Admin",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                      "    console.log(\"Admin User ID:\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                      "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
                  }
                }
              ]
            },
            {
              "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
              "name": "0.2 - Crear Credenciales para Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{admin_userId}}\n    }\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                      "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                      "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "06f5c541-5217-4bb6-b219-39ecf9173d90"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que el usuario está creado",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "a911e9c6-1ff5-4b10-8d41-a6be0c5a4100"
                  }
                }
              ]
            },
            {
              "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
              "name": "0.3 - Autenticar y Obtener Token",
              "request": {
                "url": {
                  "path": [
                    "authenticate"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"JWT Token received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('jwtToken');",
                      "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                      "    console.log(\"✅ JWT Token obtenido y guardado\");",
                      "    console.log(\"Token:\", jsonData.jwtToken);",
                      "});",
                      "",
                      "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                    ],
                    "_lastExecutionId": "85694538-9a76-4565-8eb4-284f09fdc2a9"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que las credenciales están creadas",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "e4f7f7ef-aea7-4ec7-941d-685ea0de3516"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "cf379b49-ea5f-4267-9740-e2b39607aa6d",
          "length": 39,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "0f72d37f-3118-4059-867f-06ea3fc68d97",
          "scriptId": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
          "execution": "85694538-9a76-4565-8eb4-284f09fdc2a9"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "JWT Token received",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:3)",
          "checksum": "fe93ef115c36ddffd1159b1608ce6715",
          "id": "61e752e4-74d0-457b-82ab-366399c4bbf8",
          "timestamp": 1764115597864,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 3,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
          "name": "0.3 - Autenticar y Obtener Token",
          "request": {
            "url": {
              "path": [
                "authenticate"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"JWT Token received\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('jwtToken');",
                  "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                  "    console.log(\"✅ JWT Token obtenido y guardado\");",
                  "    console.log(\"Token:\", jsonData.jwtToken);",
                  "});",
                  "",
                  "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                ],
                "_lastExecutionId": "85694538-9a76-4565-8eb4-284f09fdc2a9"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                "type": "text/javascript",
                "exec": [
                  "// Esperar un momento para asegurar que las credenciales están creadas",
                  "setTimeout(function(){}, 500);"
                ],
                "_lastExecutionId": "e4f7f7ef-aea7-4ec7-941d-685ea0de3516"
              }
            }
          ]
        },
        "parent": {
          "id": "8648df09-0c53-4845-93cf-ecb6068e2417",
          "name": "E2E-00: Setup Autenticación",
          "description": {
            "content": "Setup inicial: Crea un usuario administrador, sus credenciales y obtiene el token JWT para las pruebas",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "350c0711-8edb-43cb-9f33-5177ec1ceca2",
              "name": "0.1 - Crear Usuario Admin",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Admin\",\n    \"lastName\": \"Test\",\n    \"imageUrl\": \"https://example.com/admin-avatar.jpg\",\n    \"email\": \"admin.test@ecommerce.com\",\n    \"phone\": \"+34600000000\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "16c4d322-f87d-4595-9929-f503a727e85b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"admin_userId\", jsonData.userId);",
                      "    console.log(\"Admin User ID:\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Admin\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Test\");",
                      "    pm.expect(jsonData.email).to.eql(\"admin.test@ecommerce.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "6556e72c-9eb7-489c-98ef-6fe8a46e3931"
                  }
                }
              ]
            },
            {
              "id": "c40e1792-fd7b-48bc-be0c-e600cbdd2959",
              "name": "0.2 - Crear Credenciales para Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\",\n    \"roleBasedAuthority\": \"ROLE_ADMIN\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{admin_userId}}\n    }\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "fb012370-2639-4a60-8a66-de9f7f68629f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"admintest\");",
                      "    pm.environment.set(\"admin_credentialId\", jsonData.credentialId);",
                      "    console.log(\"Admin Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "06f5c541-5217-4bb6-b219-39ecf9173d90"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "74035b81-59f9-466f-b887-064ad14b5abb",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que el usuario está creado",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "a911e9c6-1ff5-4b10-8d41-a6be0c5a4100"
                  }
                }
              ]
            },
            {
              "id": "c1bfcf02-2da0-458d-a49f-a8de5c8d7a1b",
              "name": "0.3 - Autenticar y Obtener Token",
              "request": {
                "url": {
                  "path": [
                    "authenticate"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"admintest\",\n    \"password\": \"Admin123!\"\n}"
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"JWT Token received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('jwtToken');",
                      "    pm.environment.set(\"jwt_token\", jsonData.jwtToken);",
                      "    console.log(\"✅ JWT Token obtenido y guardado\");",
                      "    console.log(\"Token:\", jsonData.jwtToken);",
                      "});",
                      "",
                      "console.log(\"✅ E2E-00 COMPLETADO: Usuario admin creado y autenticado correctamente\");"
                    ],
                    "_lastExecutionId": "85694538-9a76-4565-8eb4-284f09fdc2a9"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "97a06a11-7d93-4d00-acbe-bf325b5ea743",
                    "type": "text/javascript",
                    "exec": [
                      "// Esperar un momento para asegurar que las credenciales están creadas",
                      "setTimeout(function(){}, 500);"
                    ],
                    "_lastExecutionId": "e4f7f7ef-aea7-4ec7-941d-685ea0de3516"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "cf379b49-ea5f-4267-9740-e2b39607aa6d",
          "length": 39,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "0f72d37f-3118-4059-867f-06ea3fc68d97",
          "scriptId": "93a87f85-fe02-47c7-a386-dc3b8d1dddb1",
          "execution": "85694538-9a76-4565-8eb4-284f09fdc2a9"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "abc14f4e-b8de-4911-ac09-e4d358b38833",
          "timestamp": 1764115598382,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "35b4f041-0826-4def-bf03-63af42674860",
          "name": "1.1 - Crear Usuario Nuevo",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "users"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "18934e66-a92f-45d0-ba53-abb50dd07b4e",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has userId\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.environment.set(\"test_userId\", jsonData.userId);",
                  "});",
                  "",
                  "pm.test(\"User data is correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                  "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                  "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "ff94a363-0d98-46f6-a954-aefe610ba04b",
          "length": 39,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "f5be944a-9f87-41e7-8e3a-1d977c6053b7"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:4)",
          "checksum": "5e78bc18623b85feb0a8ad40f56e64fc",
          "id": "9b13bac4-0f95-4543-be9b-47ba7c649b48",
          "timestamp": 1764115598391,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "35b4f041-0826-4def-bf03-63af42674860",
          "name": "1.1 - Crear Usuario Nuevo",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has userId\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.environment.set(\"test_userId\", jsonData.userId);",
                  "});",
                  "",
                  "pm.test(\"User data is correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                  "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                  "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                  "});"
                ],
                "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
              }
            }
          ]
        },
        "parent": {
          "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
          "name": "E2E-01: Registro y Gestión de Usuario Completa",
          "description": {
            "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "35b4f041-0826-4def-bf03-63af42674860",
              "name": "1.1 - Crear Usuario Nuevo",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"test_userId\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                  }
                }
              ]
            },
            {
              "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
              "name": "1.2 - Crear Credenciales para Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                      "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                  }
                }
              ]
            },
            {
              "id": "0907f30b-0cbd-4753-b843-e07444352f08",
              "name": "1.3 - Obtener Usuario Creado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User exists and has correct data\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                  }
                }
              ]
            },
            {
              "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
              "name": "1.4 - Actualizar Teléfono del Usuario",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Phone number updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});"
                    ],
                    "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                  }
                }
              ]
            },
            {
              "id": "bea056a3-3fda-4930-ae56-740c1417d133",
              "name": "1.5 - Verificar Usuario Actualizado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User updated successfully\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});",
                      "",
                      "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                    ],
                    "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ff94a363-0d98-46f6-a954-aefe610ba04b",
          "length": 39,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "f5be944a-9f87-41e7-8e3a-1d977c6053b7",
          "scriptId": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
          "execution": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Response has userId",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:4)",
          "checksum": "4875c49101202e508c9819fd46ffd0a0",
          "id": "0b86b744-7265-4c7a-8cd7-c04ee212a60b",
          "timestamp": 1764115598392,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "35b4f041-0826-4def-bf03-63af42674860",
          "name": "1.1 - Crear Usuario Nuevo",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has userId\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.environment.set(\"test_userId\", jsonData.userId);",
                  "});",
                  "",
                  "pm.test(\"User data is correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                  "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                  "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                  "});"
                ],
                "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
              }
            }
          ]
        },
        "parent": {
          "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
          "name": "E2E-01: Registro y Gestión de Usuario Completa",
          "description": {
            "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "35b4f041-0826-4def-bf03-63af42674860",
              "name": "1.1 - Crear Usuario Nuevo",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"test_userId\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                  }
                }
              ]
            },
            {
              "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
              "name": "1.2 - Crear Credenciales para Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                      "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                  }
                }
              ]
            },
            {
              "id": "0907f30b-0cbd-4753-b843-e07444352f08",
              "name": "1.3 - Obtener Usuario Creado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User exists and has correct data\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                  }
                }
              ]
            },
            {
              "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
              "name": "1.4 - Actualizar Teléfono del Usuario",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Phone number updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});"
                    ],
                    "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                  }
                }
              ]
            },
            {
              "id": "bea056a3-3fda-4930-ae56-740c1417d133",
              "name": "1.5 - Verificar Usuario Actualizado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User updated successfully\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});",
                      "",
                      "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                    ],
                    "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ff94a363-0d98-46f6-a954-aefe610ba04b",
          "length": 39,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "f5be944a-9f87-41e7-8e3a-1d977c6053b7",
          "scriptId": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
          "execution": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 2,
          "test": "User data is correct",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:3:4)",
          "checksum": "7f57340916d3f8b9b32b440518f5bf89",
          "id": "c2ae377b-1b74-487f-b34d-2f03f0e33f5e",
          "timestamp": 1764115598393,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 3,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 4,
              "native": false
            }
          ]
        },
        "at": "assertion:2 in test-script",
        "source": {
          "id": "35b4f041-0826-4def-bf03-63af42674860",
          "name": "1.1 - Crear Usuario Nuevo",
          "request": {
            "url": {
              "path": [
                "users"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has userId\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.environment.set(\"test_userId\", jsonData.userId);",
                  "});",
                  "",
                  "pm.test(\"User data is correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                  "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                  "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                  "});"
                ],
                "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
              }
            }
          ]
        },
        "parent": {
          "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
          "name": "E2E-01: Registro y Gestión de Usuario Completa",
          "description": {
            "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "35b4f041-0826-4def-bf03-63af42674860",
              "name": "1.1 - Crear Usuario Nuevo",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"test_userId\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                  }
                }
              ]
            },
            {
              "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
              "name": "1.2 - Crear Credenciales para Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                      "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                  }
                }
              ]
            },
            {
              "id": "0907f30b-0cbd-4753-b843-e07444352f08",
              "name": "1.3 - Obtener Usuario Creado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User exists and has correct data\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                  }
                }
              ]
            },
            {
              "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
              "name": "1.4 - Actualizar Teléfono del Usuario",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Phone number updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});"
                    ],
                    "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                  }
                }
              ]
            },
            {
              "id": "bea056a3-3fda-4930-ae56-740c1417d133",
              "name": "1.5 - Verificar Usuario Actualizado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User updated successfully\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});",
                      "",
                      "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                    ],
                    "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ff94a363-0d98-46f6-a954-aefe610ba04b",
          "length": 39,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "f5be944a-9f87-41e7-8e3a-1d977c6053b7",
          "scriptId": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
          "execution": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "c0ba045c-54fe-4500-8f97-ca5a1c4203f3",
          "timestamp": 1764115598912,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
          "name": "1.2 - Crear Credenciales para Usuario",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "credentials"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "993fd101-29fa-4646-9553-56ea1fb8fd87",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": \n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Credentials created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('credentialId');",
                  "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                  "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "de0179c1-c5e2-469f-aca1-ff6d6afa2e2f",
          "length": 39,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "926bf25c-7171-47b7-b346-0114fcf50631"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:5)",
          "checksum": "069f20f87cf5d2c50296503d3aba1045",
          "id": "e4e6daf6-8c15-4b2b-b33f-d35735ebdf5b",
          "timestamp": 1764115598922,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
          "name": "1.2 - Crear Credenciales para Usuario",
          "request": {
            "url": {
              "path": [
                "credentials"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Credentials created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('credentialId');",
                  "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                  "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                  "});"
                ],
                "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
              }
            }
          ]
        },
        "parent": {
          "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
          "name": "E2E-01: Registro y Gestión de Usuario Completa",
          "description": {
            "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "35b4f041-0826-4def-bf03-63af42674860",
              "name": "1.1 - Crear Usuario Nuevo",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"test_userId\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                  }
                }
              ]
            },
            {
              "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
              "name": "1.2 - Crear Credenciales para Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                      "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                  }
                }
              ]
            },
            {
              "id": "0907f30b-0cbd-4753-b843-e07444352f08",
              "name": "1.3 - Obtener Usuario Creado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User exists and has correct data\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                  }
                }
              ]
            },
            {
              "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
              "name": "1.4 - Actualizar Teléfono del Usuario",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Phone number updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});"
                    ],
                    "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                  }
                }
              ]
            },
            {
              "id": "bea056a3-3fda-4930-ae56-740c1417d133",
              "name": "1.5 - Verificar Usuario Actualizado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User updated successfully\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});",
                      "",
                      "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                    ],
                    "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "de0179c1-c5e2-469f-aca1-ff6d6afa2e2f",
          "length": 39,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "926bf25c-7171-47b7-b346-0114fcf50631",
          "scriptId": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
          "execution": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Credentials created",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:5)",
          "checksum": "e8d8739d8638eedda514bc4c3d0015c2",
          "id": "bfa4b34d-f101-471a-9427-d676c3caaf44",
          "timestamp": 1764115598922,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 5,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
          "name": "1.2 - Crear Credenciales para Usuario",
          "request": {
            "url": {
              "path": [
                "credentials"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Credentials created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('credentialId');",
                  "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                  "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                  "});"
                ],
                "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
              }
            }
          ]
        },
        "parent": {
          "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
          "name": "E2E-01: Registro y Gestión de Usuario Completa",
          "description": {
            "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "35b4f041-0826-4def-bf03-63af42674860",
              "name": "1.1 - Crear Usuario Nuevo",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"test_userId\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                  }
                }
              ]
            },
            {
              "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
              "name": "1.2 - Crear Credenciales para Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                      "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                  }
                }
              ]
            },
            {
              "id": "0907f30b-0cbd-4753-b843-e07444352f08",
              "name": "1.3 - Obtener Usuario Creado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User exists and has correct data\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                  }
                }
              ]
            },
            {
              "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
              "name": "1.4 - Actualizar Teléfono del Usuario",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Phone number updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});"
                    ],
                    "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                  }
                }
              ]
            },
            {
              "id": "bea056a3-3fda-4930-ae56-740c1417d133",
              "name": "1.5 - Verificar Usuario Actualizado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User updated successfully\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});",
                      "",
                      "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                    ],
                    "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "de0179c1-c5e2-469f-aca1-ff6d6afa2e2f",
          "length": 39,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "926bf25c-7171-47b7-b346-0114fcf50631",
          "scriptId": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
          "execution": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "fedf223e-3ace-4c3a-b44f-df5bb1fd86b2",
          "timestamp": 1764115599440,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "0907f30b-0cbd-4753-b843-e07444352f08",
          "name": "1.3 - Obtener Usuario Creado",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "users",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "f1876713-e30c-42b9-88c1-59a30bed0940",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User exists and has correct data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "ca3bfb5e-fd92-40dc-ad5f-34a722109975",
          "length": 39,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "0e39e643-adb6-43c4-8a5d-021bb0f46334"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:6)",
          "checksum": "1a4ec3a35892ad375c572c535bbc6e63",
          "id": "ddad216c-994c-4c24-aa04-9af33b839394",
          "timestamp": 1764115599448,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "0907f30b-0cbd-4753-b843-e07444352f08",
          "name": "1.3 - Obtener Usuario Creado",
          "request": {
            "url": {
              "path": [
                "users",
                "{{test_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User exists and has correct data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                  "});"
                ],
                "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
              }
            }
          ]
        },
        "parent": {
          "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
          "name": "E2E-01: Registro y Gestión de Usuario Completa",
          "description": {
            "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "35b4f041-0826-4def-bf03-63af42674860",
              "name": "1.1 - Crear Usuario Nuevo",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"test_userId\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                  }
                }
              ]
            },
            {
              "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
              "name": "1.2 - Crear Credenciales para Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                      "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                  }
                }
              ]
            },
            {
              "id": "0907f30b-0cbd-4753-b843-e07444352f08",
              "name": "1.3 - Obtener Usuario Creado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User exists and has correct data\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                  }
                }
              ]
            },
            {
              "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
              "name": "1.4 - Actualizar Teléfono del Usuario",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Phone number updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});"
                    ],
                    "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                  }
                }
              ]
            },
            {
              "id": "bea056a3-3fda-4930-ae56-740c1417d133",
              "name": "1.5 - Verificar Usuario Actualizado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User updated successfully\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});",
                      "",
                      "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                    ],
                    "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ca3bfb5e-fd92-40dc-ad5f-34a722109975",
          "length": 39,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "0e39e643-adb6-43c4-8a5d-021bb0f46334",
          "scriptId": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
          "execution": "beea8c32-a503-4523-a973-73f938cad5c0"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "User exists and has correct data",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:6)",
          "checksum": "9f98b52a615e2a2cdf3fd79e4bc90c37",
          "id": "a23b9892-a175-4a8f-a4a9-4a730256433b",
          "timestamp": 1764115599449,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 6,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "0907f30b-0cbd-4753-b843-e07444352f08",
          "name": "1.3 - Obtener Usuario Creado",
          "request": {
            "url": {
              "path": [
                "users",
                "{{test_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User exists and has correct data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                  "});"
                ],
                "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
              }
            }
          ]
        },
        "parent": {
          "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
          "name": "E2E-01: Registro y Gestión de Usuario Completa",
          "description": {
            "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "35b4f041-0826-4def-bf03-63af42674860",
              "name": "1.1 - Crear Usuario Nuevo",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"test_userId\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                  }
                }
              ]
            },
            {
              "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
              "name": "1.2 - Crear Credenciales para Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                      "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                  }
                }
              ]
            },
            {
              "id": "0907f30b-0cbd-4753-b843-e07444352f08",
              "name": "1.3 - Obtener Usuario Creado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User exists and has correct data\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                  }
                }
              ]
            },
            {
              "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
              "name": "1.4 - Actualizar Teléfono del Usuario",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Phone number updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});"
                    ],
                    "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                  }
                }
              ]
            },
            {
              "id": "bea056a3-3fda-4930-ae56-740c1417d133",
              "name": "1.5 - Verificar Usuario Actualizado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User updated successfully\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});",
                      "",
                      "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                    ],
                    "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "ca3bfb5e-fd92-40dc-ad5f-34a722109975",
          "length": 39,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "0e39e643-adb6-43c4-8a5d-021bb0f46334",
          "scriptId": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
          "execution": "beea8c32-a503-4523-a973-73f938cad5c0"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "4afc60bf-f1b1-4b46-a85b-6c830ab31fd3",
          "timestamp": 1764115599965,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
          "name": "1.4 - Actualizar Teléfono del Usuario",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "users",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "26f1f884-6893-4bce-aa44-4f28c6fc8087",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": ,\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Phone number updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "cf1234b1-0894-4137-bb67-09e163f1e5c9",
          "length": 39,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "7a48c793-f149-4826-bec0-30839ddbda48"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:7)",
          "checksum": "cceaa75a111dfd6afb1dcf3ec5edba7f",
          "id": "4c7e2db3-a764-4cb8-be92-a161649c4cba",
          "timestamp": 1764115599973,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
          "name": "1.4 - Actualizar Teléfono del Usuario",
          "request": {
            "url": {
              "path": [
                "users",
                "{{test_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Phone number updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                  "});"
                ],
                "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
              }
            }
          ]
        },
        "parent": {
          "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
          "name": "E2E-01: Registro y Gestión de Usuario Completa",
          "description": {
            "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "35b4f041-0826-4def-bf03-63af42674860",
              "name": "1.1 - Crear Usuario Nuevo",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"test_userId\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                  }
                }
              ]
            },
            {
              "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
              "name": "1.2 - Crear Credenciales para Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                      "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                  }
                }
              ]
            },
            {
              "id": "0907f30b-0cbd-4753-b843-e07444352f08",
              "name": "1.3 - Obtener Usuario Creado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User exists and has correct data\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                  }
                }
              ]
            },
            {
              "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
              "name": "1.4 - Actualizar Teléfono del Usuario",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Phone number updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});"
                    ],
                    "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                  }
                }
              ]
            },
            {
              "id": "bea056a3-3fda-4930-ae56-740c1417d133",
              "name": "1.5 - Verificar Usuario Actualizado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User updated successfully\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});",
                      "",
                      "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                    ],
                    "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "cf1234b1-0894-4137-bb67-09e163f1e5c9",
          "length": 39,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "7a48c793-f149-4826-bec0-30839ddbda48",
          "scriptId": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
          "execution": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Phone number updated",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:7)",
          "checksum": "7a0cddcdf8dd761da795749b6e38e272",
          "id": "3b812671-636f-4c8f-a376-f77b4b697bd4",
          "timestamp": 1764115599974,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 7,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
          "name": "1.4 - Actualizar Teléfono del Usuario",
          "request": {
            "url": {
              "path": [
                "users",
                "{{test_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Phone number updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                  "});"
                ],
                "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
              }
            }
          ]
        },
        "parent": {
          "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
          "name": "E2E-01: Registro y Gestión de Usuario Completa",
          "description": {
            "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "35b4f041-0826-4def-bf03-63af42674860",
              "name": "1.1 - Crear Usuario Nuevo",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"test_userId\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                  }
                }
              ]
            },
            {
              "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
              "name": "1.2 - Crear Credenciales para Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                      "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                  }
                }
              ]
            },
            {
              "id": "0907f30b-0cbd-4753-b843-e07444352f08",
              "name": "1.3 - Obtener Usuario Creado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User exists and has correct data\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                  }
                }
              ]
            },
            {
              "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
              "name": "1.4 - Actualizar Teléfono del Usuario",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Phone number updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});"
                    ],
                    "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                  }
                }
              ]
            },
            {
              "id": "bea056a3-3fda-4930-ae56-740c1417d133",
              "name": "1.5 - Verificar Usuario Actualizado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User updated successfully\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});",
                      "",
                      "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                    ],
                    "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "cf1234b1-0894-4137-bb67-09e163f1e5c9",
          "length": 39,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "7a48c793-f149-4826-bec0-30839ddbda48",
          "scriptId": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
          "execution": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "a31847bd-88ad-48c3-8bb8-260ae4e3a72f",
          "timestamp": 1764115600490,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "bea056a3-3fda-4930-ae56-740c1417d133",
          "name": "1.5 - Verificar Usuario Actualizado",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "users",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "3303e0fe-30fc-45b9-88c6-8cc2b1b18929",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User updated successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                  "});",
                  "",
                  "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "002ca7f9-5c3a-4aea-a97c-04e63279fbe4",
          "length": 39,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1d8ce624-0cf5-4978-9908-e27382ec8c56"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:8)",
          "checksum": "685d167932608e4ac32feacd43beb324",
          "id": "6bf1b193-dda4-45cc-a5b9-d2593cab8232",
          "timestamp": 1764115600499,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "bea056a3-3fda-4930-ae56-740c1417d133",
          "name": "1.5 - Verificar Usuario Actualizado",
          "request": {
            "url": {
              "path": [
                "users",
                "{{test_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User updated successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                  "});",
                  "",
                  "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                ],
                "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
              }
            }
          ]
        },
        "parent": {
          "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
          "name": "E2E-01: Registro y Gestión de Usuario Completa",
          "description": {
            "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "35b4f041-0826-4def-bf03-63af42674860",
              "name": "1.1 - Crear Usuario Nuevo",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"test_userId\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                  }
                }
              ]
            },
            {
              "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
              "name": "1.2 - Crear Credenciales para Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                      "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                  }
                }
              ]
            },
            {
              "id": "0907f30b-0cbd-4753-b843-e07444352f08",
              "name": "1.3 - Obtener Usuario Creado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User exists and has correct data\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                  }
                }
              ]
            },
            {
              "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
              "name": "1.4 - Actualizar Teléfono del Usuario",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Phone number updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});"
                    ],
                    "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                  }
                }
              ]
            },
            {
              "id": "bea056a3-3fda-4930-ae56-740c1417d133",
              "name": "1.5 - Verificar Usuario Actualizado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User updated successfully\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});",
                      "",
                      "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                    ],
                    "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "002ca7f9-5c3a-4aea-a97c-04e63279fbe4",
          "length": 39,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1d8ce624-0cf5-4978-9908-e27382ec8c56",
          "scriptId": "95ab97b0-3287-4c45-bdd8-524247cf3171",
          "execution": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "User updated successfully",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:8)",
          "checksum": "11e6af31a9ff89047b323a144af15065",
          "id": "c970ef98-9403-427d-b446-e41abe984b29",
          "timestamp": 1764115600500,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 8,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "bea056a3-3fda-4930-ae56-740c1417d133",
          "name": "1.5 - Verificar Usuario Actualizado",
          "request": {
            "url": {
              "path": [
                "users",
                "{{test_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"User updated successfully\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                  "});",
                  "",
                  "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                ],
                "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
              }
            }
          ]
        },
        "parent": {
          "id": "59839f92-9aad-4f73-a0ad-dc9683943ab2",
          "name": "E2E-01: Registro y Gestión de Usuario Completa",
          "description": {
            "content": "Flujo completo de registro y gestión de usuario: crea un nuevo usuario, lo consulta, actualiza su información y verifica los cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "35b4f041-0826-4def-bf03-63af42674860",
              "name": "1.1 - Crear Usuario Nuevo",
              "request": {
                "url": {
                  "path": [
                    "users"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34666777888\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "175fd7e8-4a5e-4b23-b2ba-938bd653cb0d",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has userId\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.environment.set(\"test_userId\", jsonData.userId);",
                      "});",
                      "",
                      "pm.test(\"User data is correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.firstName).to.eql(\"Juan\");",
                      "    pm.expect(jsonData.lastName).to.eql(\"Pérez\");",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "ac2cdc72-e083-4292-b52c-ed6da1371d29"
                  }
                }
              ]
            },
            {
              "id": "4adf335f-4ac1-470d-9109-0c87fcab5e13",
              "name": "1.2 - Crear Credenciales para Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\": \"juanperez\",\n    \"password\": \"SecurePass123!\",\n    \"roleBasedAuthority\": \"ROLE_USER\",\n    \"isEnabled\": true,\n    \"isAccountNonExpired\": true,\n    \"isAccountNonLocked\": true,\n    \"isCredentialsNonExpired\": true,\n    \"user\": {\n        \"userId\": {{test_userId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "d0de976f-2f2e-4e7b-9026-a95bbe7a2d8a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Credentials created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('credentialId');",
                      "    pm.expect(jsonData.username).to.eql(\"juanperez\");",
                      "    console.log(\"User Credential ID:\", jsonData.credentialId);",
                      "});"
                    ],
                    "_lastExecutionId": "0e1fdec3-9bd5-46bb-a6b4-b8c6620a30df"
                  }
                }
              ]
            },
            {
              "id": "0907f30b-0cbd-4753-b843-e07444352f08",
              "name": "1.3 - Obtener Usuario Creado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "da7df75a-d7f2-4308-8c48-4dcef891f4c5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User exists and has correct data\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.email).to.eql(\"juan.perez@test.com\");",
                      "});"
                    ],
                    "_lastExecutionId": "beea8c32-a503-4523-a973-73f938cad5c0"
                  }
                }
              ]
            },
            {
              "id": "3fa16230-c29a-41ce-b62e-8c8e51a161a9",
              "name": "1.4 - Actualizar Teléfono del Usuario",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"firstName\": \"Juan\",\n    \"lastName\": \"Pérez\",\n    \"imageUrl\": \"https://example.com/avatar.jpg\",\n    \"email\": \"juan.perez@test.com\",\n    \"phone\": \"+34999888777\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1d73bde6-da25-456a-97c6-3854dbaaa6f2",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Phone number updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});"
                    ],
                    "_lastExecutionId": "979d5b56-c6e5-4dea-90b2-4fe406580edd"
                  }
                }
              ]
            },
            {
              "id": "bea056a3-3fda-4930-ae56-740c1417d133",
              "name": "1.5 - Verificar Usuario Actualizado",
              "request": {
                "url": {
                  "path": [
                    "users",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "95ab97b0-3287-4c45-bdd8-524247cf3171",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"User updated successfully\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.phone).to.eql(\"+34999888777\");",
                      "});",
                      "",
                      "console.log(\"✅ E2E-01 COMPLETADO: Usuario creado, consultado y actualizado correctamente\");"
                    ],
                    "_lastExecutionId": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "002ca7f9-5c3a-4aea-a97c-04e63279fbe4",
          "length": 39,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "1d8ce624-0cf5-4978-9908-e27382ec8c56",
          "scriptId": "95ab97b0-3287-4c45-bdd8-524247cf3171",
          "execution": "448b16f2-42a5-4e8d-85af-805562b0e3c6"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "b4edbae1-b947-4c95-9bda-130caaeeb8de",
          "timestamp": 1764115601018,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
          "name": "2.1 - Crear Categoría para Productos",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "categories"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "a1a0b558-3acb-42ab-a0f9-07c8a1e30102",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Category created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('categoryId');",
                  "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "da09a87b-936b-455c-8165-c12ee44b5952",
          "length": 39,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "0e392028-a91d-425a-a856-996a72d631f5"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:9)",
          "checksum": "3c8b6d0f45100a696bd28f8ebac2fd43",
          "id": "4ece1743-e267-4887-bd4d-6bfd7530363b",
          "timestamp": 1764115601026,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
          "name": "2.1 - Crear Categoría para Productos",
          "request": {
            "url": {
              "path": [
                "categories"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Category created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('categoryId');",
                  "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                  "});"
                ],
                "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "da09a87b-936b-455c-8165-c12ee44b5952",
          "length": 39,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "0e392028-a91d-425a-a856-996a72d631f5",
          "scriptId": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
          "execution": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Category created",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:9)",
          "checksum": "318dd419320599e4d96c64de55c9ea3a",
          "id": "0d133784-1aae-4f1d-9a0d-2f61958c3dab",
          "timestamp": 1764115601026,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 9,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
          "name": "2.1 - Crear Categoría para Productos",
          "request": {
            "url": {
              "path": [
                "categories"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Category created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('categoryId');",
                  "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                  "});"
                ],
                "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "da09a87b-936b-455c-8165-c12ee44b5952",
          "length": 39,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "0e392028-a91d-425a-a856-996a72d631f5",
          "scriptId": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
          "execution": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "f97d79c7-e17a-4899-8012-7fdbe5b5e91c",
          "timestamp": 1764115601544,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "da80b48b-c22f-4173-934f-d23c6366be69",
          "name": "2.2 - Crear Producto 1",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "products"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "d0773166-a54d-4126-bdd4-87b5a10f2c2b",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": \n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product 1 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "de751c4a-c7d5-47d4-b701-6e95e378e258",
          "length": 39,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "a0c7236f-c030-455a-8519-7bc4e7a2767a"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:10)",
          "checksum": "1532f8dadbbfa79e43ec80ab9ad55a24",
          "id": "ee84f2bd-fea3-4acc-8a31-2b34da8a02c0",
          "timestamp": 1764115601553,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "da80b48b-c22f-4173-934f-d23c6366be69",
          "name": "2.2 - Crear Producto 1",
          "request": {
            "url": {
              "path": [
                "products"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product 1 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                  "});"
                ],
                "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "de751c4a-c7d5-47d4-b701-6e95e378e258",
          "length": 39,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "a0c7236f-c030-455a-8519-7bc4e7a2767a",
          "scriptId": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
          "execution": "e5b3eef4-a190-402b-915a-b6ea6723704e"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Product 1 created",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:10)",
          "checksum": "39d536824b7eb3fabce840f171eadb4a",
          "id": "fef0bc20-7b60-4d2e-af98-78d458e8bc53",
          "timestamp": 1764115601553,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 10,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "da80b48b-c22f-4173-934f-d23c6366be69",
          "name": "2.2 - Crear Producto 1",
          "request": {
            "url": {
              "path": [
                "products"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product 1 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                  "});"
                ],
                "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "de751c4a-c7d5-47d4-b701-6e95e378e258",
          "length": 39,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "a0c7236f-c030-455a-8519-7bc4e7a2767a",
          "scriptId": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
          "execution": "e5b3eef4-a190-402b-915a-b6ea6723704e"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "37eb6e58-af71-4dd0-93e4-2f8641678073",
          "timestamp": 1764115602069,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "cba22f78-b984-4186-9b8f-03e972895b65",
          "name": "2.3 - Crear Producto 2",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "products"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "7a513e2b-c29e-42b8-9bc0-93e5df16d3d3",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": \n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product 2 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "d1500b60-57b9-41a2-9238-f0af3813229b",
          "length": 39,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "a5fd3034-1692-425a-b0f2-3beaf4aa4971"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:11)",
          "checksum": "d49b4a32b37d5fba2891d4e14bf27e81",
          "id": "deb1c5e2-2bad-4642-b6a4-e062daed8380",
          "timestamp": 1764115602075,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "cba22f78-b984-4186-9b8f-03e972895b65",
          "name": "2.3 - Crear Producto 2",
          "request": {
            "url": {
              "path": [
                "products"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product 2 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                  "});"
                ],
                "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "d1500b60-57b9-41a2-9238-f0af3813229b",
          "length": 39,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "a5fd3034-1692-425a-b0f2-3beaf4aa4971",
          "scriptId": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
          "execution": "8044c85c-e81f-496b-8cde-8ba134367660"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Product 2 created",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:11)",
          "checksum": "16b59aa58348ea6ec882d2e783cb860f",
          "id": "8ead45bf-0b59-4fa4-bfd6-a3ed1f695061",
          "timestamp": 1764115602076,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 11,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "cba22f78-b984-4186-9b8f-03e972895b65",
          "name": "2.3 - Crear Producto 2",
          "request": {
            "url": {
              "path": [
                "products"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product 2 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                  "});"
                ],
                "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "d1500b60-57b9-41a2-9238-f0af3813229b",
          "length": 39,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "a5fd3034-1692-425a-b0f2-3beaf4aa4971",
          "scriptId": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
          "execution": "8044c85c-e81f-496b-8cde-8ba134367660"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "ceefd9c3-99b5-49a8-948e-687508db0180",
          "timestamp": 1764115602593,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
          "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "carts"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "5397b127-7083-4bf5-814a-ea2608123691",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": \n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                "type": "text/javascript",
                "exec": [
                  "// Verificar que el token JWT existe",
                  "const token = pm.environment.get(\"jwt_token\");",
                  "if (!token) {",
                  "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                  "}",
                  "",
                  "// Verificar que el userId existe",
                  "const userId = pm.environment.get(\"test_userId\");",
                  "if (!userId) {",
                  "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                  "}",
                  "",
                  "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                  "console.log('User ID:', userId);"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                "type": "text/javascript",
                "exec": [
                  "// Manejo de errores más detallado",
                  "if (pm.response.code === 403) {",
                  "    console.error('❌ Error 403 - Forbidden');",
                  "    console.error('Posibles causas:');",
                  "    console.error('1. Token JWT expirado o inválido');",
                  "    console.error('2. Usuario sin permisos para crear carritos');",
                  "    console.error('3. El usuario test_userId no existe');",
                  "    ",
                  "    const responseBody = pm.response.text();",
                  "    console.error('Respuesta del servidor:', responseBody);",
                  "}",
                  "",
                  "pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "});",
                  "",
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    pm.test(\"Cart created\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('cartId');",
                  "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                  "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                  "    });",
                  "}"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "c8d32eff-a4f0-4f13-ad0e-57ce184296f2",
          "length": 39,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "84193297-ff22-44da-baba-47c3891ae0cb"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200 or 201",
          "message": "expected undefined to be one of [ 200, 201 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 201 ]\n   at Object.eval sandbox-script.js:1:12)",
          "checksum": "eea04979789d9e85d1fb8dbc38f7acf0",
          "id": "9d84dc15-27af-4c1f-9d6a-f1970b43a08f",
          "timestamp": 1764115602602,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 12,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
          "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
          "request": {
            "url": {
              "path": [
                "carts"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": {{test_userId}}\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                "type": "text/javascript",
                "exec": [
                  "// Verificar que el token JWT existe",
                  "const token = pm.environment.get(\"jwt_token\");",
                  "if (!token) {",
                  "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                  "}",
                  "",
                  "// Verificar que el userId existe",
                  "const userId = pm.environment.get(\"test_userId\");",
                  "if (!userId) {",
                  "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                  "}",
                  "",
                  "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                  "console.log('User ID:', userId);"
                ],
                "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                "type": "text/javascript",
                "exec": [
                  "// Manejo de errores más detallado",
                  "if (pm.response.code === 403) {",
                  "    console.error('❌ Error 403 - Forbidden');",
                  "    console.error('Posibles causas:');",
                  "    console.error('1. Token JWT expirado o inválido');",
                  "    console.error('2. Usuario sin permisos para crear carritos');",
                  "    console.error('3. El usuario test_userId no existe');",
                  "    ",
                  "    const responseBody = pm.response.text();",
                  "    console.error('Respuesta del servidor:', responseBody);",
                  "}",
                  "",
                  "pm.test(\"Status code is 200 or 201\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "});",
                  "",
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    pm.test(\"Cart created\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('cartId');",
                  "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                  "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                  "    });",
                  "}"
                ],
                "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "c8d32eff-a4f0-4f13-ad0e-57ce184296f2",
          "length": 39,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "84193297-ff22-44da-baba-47c3891ae0cb",
          "scriptId": "8de0a894-4897-4cf2-9813-5b02233d67c8",
          "execution": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "5d6d19a3-990d-4bb0-969b-64e93d727bf4",
          "timestamp": 1764115603120,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
          "name": "2.5 - Crear Orden con Productos",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "orders"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "99c05549-c7e5-43e8-bbdb-322a5837372e",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": \n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Order created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('orderId');",
                  "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "334b0f66-df35-4c8c-afac-ad6245331bbc",
          "length": 39,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "3bcaedf7-fb0d-4f22-b04a-b6dc341a33ab"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:13)",
          "checksum": "e0055d7ace1bf50d8afc3b6401279aca",
          "id": "41fc98bc-9cdc-4401-ba77-95bf921994eb",
          "timestamp": 1764115603129,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
          "name": "2.5 - Crear Orden con Productos",
          "request": {
            "url": {
              "path": [
                "orders"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Order created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('orderId');",
                  "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                  "});"
                ],
                "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "334b0f66-df35-4c8c-afac-ad6245331bbc",
          "length": 39,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "3bcaedf7-fb0d-4f22-b04a-b6dc341a33ab",
          "scriptId": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
          "execution": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Order created",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:13)",
          "checksum": "46020a5d7ef70f6377da6c9e79c29379",
          "id": "fc962f01-b9e0-4c0e-aa12-5c24d379b339",
          "timestamp": 1764115603130,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 13,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
          "name": "2.5 - Crear Orden con Productos",
          "request": {
            "url": {
              "path": [
                "orders"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Order created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('orderId');",
                  "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                  "});"
                ],
                "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "334b0f66-df35-4c8c-afac-ad6245331bbc",
          "length": 39,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "3bcaedf7-fb0d-4f22-b04a-b6dc341a33ab",
          "scriptId": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
          "execution": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "90e975fe-ba52-4fb1-8392-be242e1b63cf",
          "timestamp": 1764115603660,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
          "name": "2.6 - Actualizar Estado de Orden a ORDERED",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "orders",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "d17a0537-6e40-46a5-802f-9fa228a2094a",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderId\": ,\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": \n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Order updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('orderId');",
                  "    pm.expect(jsonData).to.have.property('orderStatus');",
                  "});",
                  "",
                  "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "6b129a03-def4-42ff-9fe6-b28cb2931f2f",
          "length": 39,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "fd3f8434-e452-4ce9-ac46-6074d04f6208"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:14)",
          "checksum": "6d373ede21178f222361239f0b929474",
          "id": "9041aa0e-68b9-4167-8d05-e069ab1c7773",
          "timestamp": 1764115603669,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 14,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
          "name": "2.6 - Actualizar Estado de Orden a ORDERED",
          "request": {
            "url": {
              "path": [
                "orders",
                "{{test_orderId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Order updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('orderId');",
                  "    pm.expect(jsonData).to.have.property('orderStatus');",
                  "});",
                  "",
                  "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                ],
                "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "6b129a03-def4-42ff-9fe6-b28cb2931f2f",
          "length": 39,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "fd3f8434-e452-4ce9-ac46-6074d04f6208",
          "scriptId": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
          "execution": "34e412c5-7d80-4843-815b-56f850d615a0"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Order updated",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:14)",
          "checksum": "714a1b497bbfb4d53fa9ad40284f3863",
          "id": "04d59bbf-c17b-4e5d-b8a7-6951cccb6965",
          "timestamp": 1764115603669,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 14,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
          "name": "2.6 - Actualizar Estado de Orden a ORDERED",
          "request": {
            "url": {
              "path": [
                "orders",
                "{{test_orderId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Order updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('orderId');",
                  "    pm.expect(jsonData).to.have.property('orderStatus');",
                  "});",
                  "",
                  "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                ],
                "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "6b129a03-def4-42ff-9fe6-b28cb2931f2f",
          "length": 39,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "fd3f8434-e452-4ce9-ac46-6074d04f6208",
          "scriptId": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
          "execution": "34e412c5-7d80-4843-815b-56f850d615a0"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "1490029c-bf27-4613-9606-402a435f2096",
          "timestamp": 1764115604186,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
          "name": "2.7 - Crear Pago para la Orden",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "payments"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "5a8da715-5061-4063-8e53-bc15393dff99",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": \n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Payment created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('paymentId');",
                  "    pm.expect(jsonData.paymentStatus).to.exist;",
                  "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "2e551402-eb91-44e9-afde-d0053a570e4c",
          "length": 39,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "f710e05d-5b8f-4d0a-a938-540485fa8e26"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:15)",
          "checksum": "2e722e6633b40d6fcbc916c1a9282f82",
          "id": "ca200e4c-eab7-4f1b-87b5-af8e55391e33",
          "timestamp": 1764115604195,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 15,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
          "name": "2.7 - Crear Pago para la Orden",
          "request": {
            "url": {
              "path": [
                "payments"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Payment created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('paymentId');",
                  "    pm.expect(jsonData.paymentStatus).to.exist;",
                  "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                  "});"
                ],
                "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "2e551402-eb91-44e9-afde-d0053a570e4c",
          "length": 39,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "f710e05d-5b8f-4d0a-a938-540485fa8e26",
          "scriptId": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
          "execution": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Payment created",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:15)",
          "checksum": "9eb2598fd1d5cb2c0583e71e0e3d7161",
          "id": "afcf9a88-7e4b-4d85-9dbd-5ce68f6a44d3",
          "timestamp": 1764115604195,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 15,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
          "name": "2.7 - Crear Pago para la Orden",
          "request": {
            "url": {
              "path": [
                "payments"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Payment created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('paymentId');",
                  "    pm.expect(jsonData.paymentStatus).to.exist;",
                  "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                  "});"
                ],
                "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "2e551402-eb91-44e9-afde-d0053a570e4c",
          "length": 39,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "f710e05d-5b8f-4d0a-a938-540485fa8e26",
          "scriptId": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
          "execution": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "cfc97fe6-0a8f-4a6d-8edf-63d5aca3f652",
          "timestamp": 1764115604712,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
          "name": "2.8 - Completar Pago",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "payments",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "fae023fe-265b-413a-9a07-5be5f8ddddee",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Payment updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('paymentId');",
                  "    pm.expect(jsonData).to.have.property('paymentStatus');",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "03af64c1-67e3-4028-bd76-4e51b200dec2",
          "length": 39,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "2b4bdad2-5dd4-4b74-8072-92cde3c1ca98"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:16)",
          "checksum": "78f15cdcb0025728a6e8a85594916efa",
          "id": "ff792d76-1818-46e7-882a-c8b13aa5fc8b",
          "timestamp": 1764115604720,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
          "name": "2.8 - Completar Pago",
          "request": {
            "url": {
              "path": [
                "payments",
                "{{test_paymentId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Payment updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('paymentId');",
                  "    pm.expect(jsonData).to.have.property('paymentStatus');",
                  "});"
                ],
                "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "03af64c1-67e3-4028-bd76-4e51b200dec2",
          "length": 39,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "2b4bdad2-5dd4-4b74-8072-92cde3c1ca98",
          "scriptId": "22f59c0c-f563-4a35-8868-8d8abead7a48",
          "execution": "9756c201-2817-4c68-bcbd-bf4300c3283c"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Payment updated",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:16)",
          "checksum": "041c89ca996b982c2ce6be5b781a68de",
          "id": "a601a6d3-d351-4b7f-a4a4-56eccfd5fe4c",
          "timestamp": 1764115604721,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
          "name": "2.8 - Completar Pago",
          "request": {
            "url": {
              "path": [
                "payments",
                "{{test_paymentId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Payment updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('paymentId');",
                  "    pm.expect(jsonData).to.have.property('paymentStatus');",
                  "});"
                ],
                "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
              }
            }
          ]
        },
        "parent": {
          "id": "c2586345-7b26-4d62-9551-1637696e6664",
          "name": "E2E-02: Flujo de Compra Completo",
          "description": {
            "content": "Flujo completo de compra: crea categoría y productos, genera carrito, crea orden, procesa pago y actualiza estado de la orden",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "4e9d5b35-9b12-47cc-b3da-aa67d21271aa",
              "name": "2.1 - Crear Categoría para Productos",
              "request": {
                "url": {
                  "path": [
                    "categories"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"categoryTitle\": \"Electrónica\",\n    \"imageUrl\": \"https://example.com/electronics.jpg\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "1fb8203b-7397-4a8a-a834-c4038ceb0a34",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Category created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('categoryId');",
                      "    pm.environment.set(\"test_categoryId\", jsonData.categoryId);",
                      "});"
                    ],
                    "_lastExecutionId": "b76fcc0b-26de-4ee2-86f0-693b7da7fbc5"
                  }
                }
              ]
            },
            {
              "id": "da80b48b-c22f-4173-934f-d23c6366be69",
              "name": "2.2 - Crear Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 50,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c8a8ab59-284c-4646-b5d3-def0053cbc16",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId1\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "e5b3eef4-a190-402b-915a-b6ea6723704e"
                  }
                }
              ]
            },
            {
              "id": "cba22f78-b984-4186-9b8f-03e972895b65",
              "name": "2.3 - Crear Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productTitle\": \"Mouse Logitech MX Master\",\n    \"imageUrl\": \"https://example.com/mouse.jpg\",\n    \"sku\": \"LOG-MX-MASTER\",\n    \"priceUnit\": 79.99,\n    \"quantity\": 100,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "c55eecaf-421e-49df-9e98-87eb33c47b3b",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "    pm.environment.set(\"test_productId2\", jsonData.productId);",
                      "});"
                    ],
                    "_lastExecutionId": "8044c85c-e81f-496b-8cde-8ba134367660"
                  }
                }
              ]
            },
            {
              "id": "9266c8da-ed7a-4318-92e0-43e3d5d7cf67",
              "name": "2.4 - Crear Carrito para Usuario (CORREGIDO)",
              "request": {
                "url": {
                  "path": [
                    "carts"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}}\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "prerequest",
                  "script": {
                    "id": "f262cf45-9c52-4e07-9aab-eb4eaf491104",
                    "type": "text/javascript",
                    "exec": [
                      "// Verificar que el token JWT existe",
                      "const token = pm.environment.get(\"jwt_token\");",
                      "if (!token) {",
                      "    console.error('⚠️ Token JWT no encontrado. Ejecuta E2E-00 primero');",
                      "}",
                      "",
                      "// Verificar que el userId existe",
                      "const userId = pm.environment.get(\"test_userId\");",
                      "if (!userId) {",
                      "    console.error('⚠️ test_userId no encontrado. Ejecuta E2E-01 primero');",
                      "}",
                      "",
                      "console.log('Token JWT:', token ? 'Presente' : 'Ausente');",
                      "console.log('User ID:', userId);"
                    ],
                    "_lastExecutionId": "a67e7dda-89c6-41cc-b609-a383d127cf30"
                  }
                },
                {
                  "listen": "test",
                  "script": {
                    "id": "8de0a894-4897-4cf2-9813-5b02233d67c8",
                    "type": "text/javascript",
                    "exec": [
                      "// Manejo de errores más detallado",
                      "if (pm.response.code === 403) {",
                      "    console.error('❌ Error 403 - Forbidden');",
                      "    console.error('Posibles causas:');",
                      "    console.error('1. Token JWT expirado o inválido');",
                      "    console.error('2. Usuario sin permisos para crear carritos');",
                      "    console.error('3. El usuario test_userId no existe');",
                      "    ",
                      "    const responseBody = pm.response.text();",
                      "    console.error('Respuesta del servidor:', responseBody);",
                      "}",
                      "",
                      "pm.test(\"Status code is 200 or 201\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    pm.test(\"Cart created\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('cartId');",
                      "        pm.environment.set(\"test_cartId\", jsonData.cartId);",
                      "        console.log('✅ Carrito creado con ID:', jsonData.cartId);",
                      "    });",
                      "}"
                    ],
                    "_lastExecutionId": "bedf1523-aac7-47b8-ba7f-4d9af3cf66e8"
                  }
                }
              ]
            },
            {
              "id": "b9f24678-0aba-4c8b-81d7-03fcb2df2cfc",
              "name": "2.5 - Crear Orden con Productos",
              "request": {
                "url": {
                  "path": [
                    "orders"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f60d152a-4c00-44f0-b0a1-fb960a7bfce0",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.environment.set(\"test_orderId\", jsonData.orderId);",
                      "});"
                    ],
                    "_lastExecutionId": "fa14b9aa-7f12-42ac-bc50-0fe1c5da80c8"
                  }
                }
              ]
            },
            {
              "id": "c4bbcdb6-c32d-41db-8e18-d204b25eced9",
              "name": "2.6 - Actualizar Estado de Orden a ORDERED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"ORDERED\",\n    \"isActive\": true,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "68cc2d4e-8247-4e9e-ab83-c5c968d50595",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Order updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('orderId');",
                      "    pm.expect(jsonData).to.have.property('orderStatus');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-02 COMPLETADO: Flujo de compra completo\");"
                    ],
                    "_lastExecutionId": "34e412c5-7d80-4843-815b-56f850d615a0"
                  }
                }
              ]
            },
            {
              "id": "68983d2a-43b6-46b1-8a22-5646ee9b9764",
              "name": "2.7 - Crear Pago para la Orden",
              "request": {
                "url": {
                  "path": [
                    "payments"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"isPayed\": false,\n    \"paymentStatus\": \"NOT_STARTED\",\n    \"order\": {\n        \"orderId\": {{test_orderId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "47cf6a93-c1b2-468f-8043-ddeb44730c92",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData.paymentStatus).to.exist;",
                      "    pm.environment.set(\"test_paymentId\", jsonData.paymentId);",
                      "});"
                    ],
                    "_lastExecutionId": "33ef1d4d-13b2-43ec-a15e-b502bd9c7556"
                  }
                }
              ]
            },
            {
              "id": "ad969d9d-574e-46be-8f90-fba88e027e9b",
              "name": "2.8 - Completar Pago",
              "request": {
                "url": {
                  "path": [
                    "payments",
                    "{{test_paymentId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": ""
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22f59c0c-f563-4a35-8868-8d8abead7a48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Payment updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('paymentId');",
                      "    pm.expect(jsonData).to.have.property('paymentStatus');",
                      "});"
                    ],
                    "_lastExecutionId": "9756c201-2817-4c68-bcbd-bf4300c3283c"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "03af64c1-67e3-4028-bd76-4e51b200dec2",
          "length": 39,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "2b4bdad2-5dd4-4b74-8072-92cde3c1ca98",
          "scriptId": "22f59c0c-f563-4a35-8868-8d8abead7a48",
          "execution": "9756c201-2817-4c68-bcbd-bf4300c3283c"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "ccbb0654-f2a6-48bd-95cb-2e508a6cf82d",
          "timestamp": 1764115605236,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
          "name": "3.1 - Listar Todos los Productos",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "products"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "5fe054d3-5327-4bda-a9ec-ce8410cc045c",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has products\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "3dfcb267-cfb0-487b-ba9f-23a8439d6e7a",
          "length": 39,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "0a97db49-b68f-4a29-9f83-4eb5e45359da"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:17)",
          "checksum": "56f9bc1601f1a2a3ad9a4d9011bedfd8",
          "id": "3d44262b-0147-41f9-9f17-0881076b626f",
          "timestamp": 1764115605242,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 17,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
          "name": "3.1 - Listar Todos los Productos",
          "request": {
            "url": {
              "path": [
                "products"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has products\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "});"
                ],
                "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
              }
            }
          ]
        },
        "parent": {
          "id": "80e52769-ce95-4366-9b12-e37ada969c65",
          "name": "E2E-03: Gestión de Productos y Stock",
          "description": {
            "content": "Flujo de gestión de productos: lista productos, obtiene detalles, actualiza stock y precio, y verifica cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
              "name": "3.1 - Listar Todos los Productos",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has products\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
                  }
                }
              ]
            },
            {
              "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
              "name": "3.2 - Obtener Producto Específico",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product details are correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                      "    pm.expect(jsonData.quantity).to.eql(50);",
                      "});"
                    ],
                    "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
                  }
                }
              ]
            },
            {
              "id": "269948d9-1257-4342-a1fc-50fe019459e4",
              "name": "3.3 - Actualizar Stock del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
                  }
                }
              ]
            },
            {
              "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
              "name": "3.4 - Actualizar Precio del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
                  }
                }
              ]
            },
            {
              "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
              "name": "3.5 - Verificar Cambios en el Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product retrieved\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                    ],
                    "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3dfcb267-cfb0-487b-ba9f-23a8439d6e7a",
          "length": 39,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "0a97db49-b68f-4a29-9f83-4eb5e45359da",
          "scriptId": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
          "execution": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Response has products",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:17)",
          "checksum": "647bb5fc9352760fb6c1060f79ad9fae",
          "id": "d3507acb-4653-4e4f-8af1-2fde88023166",
          "timestamp": 1764115605243,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 17,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
          "name": "3.1 - Listar Todos los Productos",
          "request": {
            "url": {
              "path": [
                "products"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has products\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "});"
                ],
                "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
              }
            }
          ]
        },
        "parent": {
          "id": "80e52769-ce95-4366-9b12-e37ada969c65",
          "name": "E2E-03: Gestión de Productos y Stock",
          "description": {
            "content": "Flujo de gestión de productos: lista productos, obtiene detalles, actualiza stock y precio, y verifica cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
              "name": "3.1 - Listar Todos los Productos",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has products\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
                  }
                }
              ]
            },
            {
              "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
              "name": "3.2 - Obtener Producto Específico",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product details are correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                      "    pm.expect(jsonData.quantity).to.eql(50);",
                      "});"
                    ],
                    "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
                  }
                }
              ]
            },
            {
              "id": "269948d9-1257-4342-a1fc-50fe019459e4",
              "name": "3.3 - Actualizar Stock del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
                  }
                }
              ]
            },
            {
              "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
              "name": "3.4 - Actualizar Precio del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
                  }
                }
              ]
            },
            {
              "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
              "name": "3.5 - Verificar Cambios en el Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product retrieved\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                    ],
                    "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "3dfcb267-cfb0-487b-ba9f-23a8439d6e7a",
          "length": 39,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "0a97db49-b68f-4a29-9f83-4eb5e45359da",
          "scriptId": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
          "execution": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "65f3a27c-0691-479b-bd3b-6c884014d27f",
          "timestamp": 1764115605760,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
          "name": "3.2 - Obtener Producto Específico",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "products",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "ca35c6e4-9924-43a9-81a7-fb89e95afffb",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product details are correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                  "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                  "    pm.expect(jsonData.quantity).to.eql(50);",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "0b7171cc-1464-44be-bedc-bb5608995ee6",
          "length": 39,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "7e5166dc-f53d-42d1-8983-421959fe1a2e"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:18)",
          "checksum": "7fa3e03ae8bb74cdfa3985bf0bc654de",
          "id": "9acefd32-a35b-4127-991b-1f2c223cdc37",
          "timestamp": 1764115605768,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 18,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
          "name": "3.2 - Obtener Producto Específico",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product details are correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                  "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                  "    pm.expect(jsonData.quantity).to.eql(50);",
                  "});"
                ],
                "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
              }
            }
          ]
        },
        "parent": {
          "id": "80e52769-ce95-4366-9b12-e37ada969c65",
          "name": "E2E-03: Gestión de Productos y Stock",
          "description": {
            "content": "Flujo de gestión de productos: lista productos, obtiene detalles, actualiza stock y precio, y verifica cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
              "name": "3.1 - Listar Todos los Productos",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has products\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
                  }
                }
              ]
            },
            {
              "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
              "name": "3.2 - Obtener Producto Específico",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product details are correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                      "    pm.expect(jsonData.quantity).to.eql(50);",
                      "});"
                    ],
                    "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
                  }
                }
              ]
            },
            {
              "id": "269948d9-1257-4342-a1fc-50fe019459e4",
              "name": "3.3 - Actualizar Stock del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
                  }
                }
              ]
            },
            {
              "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
              "name": "3.4 - Actualizar Precio del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
                  }
                }
              ]
            },
            {
              "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
              "name": "3.5 - Verificar Cambios en el Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product retrieved\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                    ],
                    "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "0b7171cc-1464-44be-bedc-bb5608995ee6",
          "length": 39,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "7e5166dc-f53d-42d1-8983-421959fe1a2e",
          "scriptId": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
          "execution": "66ad03c8-ab90-4971-952a-1949694ee468"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Product details are correct",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:18)",
          "checksum": "dce32cb7dba611993e5c68a4a2ab704f",
          "id": "a91b83aa-6428-488f-8e87-7a25ff07d3fb",
          "timestamp": 1764115605769,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 18,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
          "name": "3.2 - Obtener Producto Específico",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product details are correct\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                  "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                  "    pm.expect(jsonData.quantity).to.eql(50);",
                  "});"
                ],
                "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
              }
            }
          ]
        },
        "parent": {
          "id": "80e52769-ce95-4366-9b12-e37ada969c65",
          "name": "E2E-03: Gestión de Productos y Stock",
          "description": {
            "content": "Flujo de gestión de productos: lista productos, obtiene detalles, actualiza stock y precio, y verifica cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
              "name": "3.1 - Listar Todos los Productos",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has products\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
                  }
                }
              ]
            },
            {
              "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
              "name": "3.2 - Obtener Producto Específico",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product details are correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                      "    pm.expect(jsonData.quantity).to.eql(50);",
                      "});"
                    ],
                    "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
                  }
                }
              ]
            },
            {
              "id": "269948d9-1257-4342-a1fc-50fe019459e4",
              "name": "3.3 - Actualizar Stock del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
                  }
                }
              ]
            },
            {
              "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
              "name": "3.4 - Actualizar Precio del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
                  }
                }
              ]
            },
            {
              "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
              "name": "3.5 - Verificar Cambios en el Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product retrieved\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                    ],
                    "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "0b7171cc-1464-44be-bedc-bb5608995ee6",
          "length": 39,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "7e5166dc-f53d-42d1-8983-421959fe1a2e",
          "scriptId": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
          "execution": "66ad03c8-ab90-4971-952a-1949694ee468"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "80b9f829-10ce-461d-affa-78443f3256a8",
          "timestamp": 1764115606285,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "269948d9-1257-4342-a1fc-50fe019459e4",
          "name": "3.3 - Actualizar Stock del Producto",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "products",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "8870acdc-55e8-4493-a364-68bea30bdd28",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": ,\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": \n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "04798b59-73c6-4c1e-a98b-3d7f1f9e25a2",
          "length": 39,
          "cycles": 1,
          "position": 18,
          "iteration": 0,
          "httpRequestId": "9e021c86-9428-4f4f-80fe-115cbee316a2"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:19)",
          "checksum": "b7be62f02c653571cfa5a697c44c496c",
          "id": "5a594929-528d-4527-a1cb-2ea86e9e4b57",
          "timestamp": 1764115606293,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 19,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "269948d9-1257-4342-a1fc-50fe019459e4",
          "name": "3.3 - Actualizar Stock del Producto",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
              }
            }
          ]
        },
        "parent": {
          "id": "80e52769-ce95-4366-9b12-e37ada969c65",
          "name": "E2E-03: Gestión de Productos y Stock",
          "description": {
            "content": "Flujo de gestión de productos: lista productos, obtiene detalles, actualiza stock y precio, y verifica cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
              "name": "3.1 - Listar Todos los Productos",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has products\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
                  }
                }
              ]
            },
            {
              "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
              "name": "3.2 - Obtener Producto Específico",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product details are correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                      "    pm.expect(jsonData.quantity).to.eql(50);",
                      "});"
                    ],
                    "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
                  }
                }
              ]
            },
            {
              "id": "269948d9-1257-4342-a1fc-50fe019459e4",
              "name": "3.3 - Actualizar Stock del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
                  }
                }
              ]
            },
            {
              "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
              "name": "3.4 - Actualizar Precio del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
                  }
                }
              ]
            },
            {
              "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
              "name": "3.5 - Verificar Cambios en el Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product retrieved\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                    ],
                    "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "04798b59-73c6-4c1e-a98b-3d7f1f9e25a2",
          "length": 39,
          "cycles": 1,
          "position": 18,
          "iteration": 0,
          "httpRequestId": "9e021c86-9428-4f4f-80fe-115cbee316a2",
          "scriptId": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
          "execution": "b1a12e57-5274-4050-8e6a-7e4766142610"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Product updated",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:19)",
          "checksum": "5164fa83ffb0a9dab5c12cafb6edd646",
          "id": "eccb180e-7671-40d5-9bba-8d923b05ebac",
          "timestamp": 1764115606293,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 19,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "269948d9-1257-4342-a1fc-50fe019459e4",
          "name": "3.3 - Actualizar Stock del Producto",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
              }
            }
          ]
        },
        "parent": {
          "id": "80e52769-ce95-4366-9b12-e37ada969c65",
          "name": "E2E-03: Gestión de Productos y Stock",
          "description": {
            "content": "Flujo de gestión de productos: lista productos, obtiene detalles, actualiza stock y precio, y verifica cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
              "name": "3.1 - Listar Todos los Productos",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has products\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
                  }
                }
              ]
            },
            {
              "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
              "name": "3.2 - Obtener Producto Específico",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product details are correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                      "    pm.expect(jsonData.quantity).to.eql(50);",
                      "});"
                    ],
                    "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
                  }
                }
              ]
            },
            {
              "id": "269948d9-1257-4342-a1fc-50fe019459e4",
              "name": "3.3 - Actualizar Stock del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
                  }
                }
              ]
            },
            {
              "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
              "name": "3.4 - Actualizar Precio del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
                  }
                }
              ]
            },
            {
              "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
              "name": "3.5 - Verificar Cambios en el Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product retrieved\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                    ],
                    "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "04798b59-73c6-4c1e-a98b-3d7f1f9e25a2",
          "length": 39,
          "cycles": 1,
          "position": 18,
          "iteration": 0,
          "httpRequestId": "9e021c86-9428-4f4f-80fe-115cbee316a2",
          "scriptId": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
          "execution": "b1a12e57-5274-4050-8e6a-7e4766142610"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "46f54250-bc08-4d56-a348-69ebec0fedb1",
          "timestamp": 1764115606809,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
          "name": "3.4 - Actualizar Precio del Producto",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "products",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "198dd511-4889-4394-a1cc-7fd8dbf9813d",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": ,\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": \n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "4ac426fa-31d1-4701-9ca4-56828eba04ac",
          "length": 39,
          "cycles": 1,
          "position": 19,
          "iteration": 0,
          "httpRequestId": "914ed14b-b815-461e-ba08-89ae281b8bb2"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:20)",
          "checksum": "c5eabc835ce8f48d8814804e0540d68f",
          "id": "9d4c5481-094d-4768-ad5b-9321478625ca",
          "timestamp": 1764115606818,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 20,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
          "name": "3.4 - Actualizar Precio del Producto",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
              }
            }
          ]
        },
        "parent": {
          "id": "80e52769-ce95-4366-9b12-e37ada969c65",
          "name": "E2E-03: Gestión de Productos y Stock",
          "description": {
            "content": "Flujo de gestión de productos: lista productos, obtiene detalles, actualiza stock y precio, y verifica cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
              "name": "3.1 - Listar Todos los Productos",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has products\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
                  }
                }
              ]
            },
            {
              "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
              "name": "3.2 - Obtener Producto Específico",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product details are correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                      "    pm.expect(jsonData.quantity).to.eql(50);",
                      "});"
                    ],
                    "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
                  }
                }
              ]
            },
            {
              "id": "269948d9-1257-4342-a1fc-50fe019459e4",
              "name": "3.3 - Actualizar Stock del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
                  }
                }
              ]
            },
            {
              "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
              "name": "3.4 - Actualizar Precio del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
                  }
                }
              ]
            },
            {
              "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
              "name": "3.5 - Verificar Cambios en el Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product retrieved\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                    ],
                    "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "4ac426fa-31d1-4701-9ca4-56828eba04ac",
          "length": 39,
          "cycles": 1,
          "position": 19,
          "iteration": 0,
          "httpRequestId": "914ed14b-b815-461e-ba08-89ae281b8bb2",
          "scriptId": "5dc0570d-18d5-4420-a07e-6c7762e15895",
          "execution": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Product updated",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:20)",
          "checksum": "27bae0bc6b9540e0a4755153ddb05d80",
          "id": "550c99bc-fdce-42c5-ba9d-39e71969b3ac",
          "timestamp": 1764115606818,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 20,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
          "name": "3.4 - Actualizar Precio del Producto",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product updated\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
              }
            }
          ]
        },
        "parent": {
          "id": "80e52769-ce95-4366-9b12-e37ada969c65",
          "name": "E2E-03: Gestión de Productos y Stock",
          "description": {
            "content": "Flujo de gestión de productos: lista productos, obtiene detalles, actualiza stock y precio, y verifica cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
              "name": "3.1 - Listar Todos los Productos",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has products\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
                  }
                }
              ]
            },
            {
              "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
              "name": "3.2 - Obtener Producto Específico",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product details are correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                      "    pm.expect(jsonData.quantity).to.eql(50);",
                      "});"
                    ],
                    "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
                  }
                }
              ]
            },
            {
              "id": "269948d9-1257-4342-a1fc-50fe019459e4",
              "name": "3.3 - Actualizar Stock del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
                  }
                }
              ]
            },
            {
              "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
              "name": "3.4 - Actualizar Precio del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
                  }
                }
              ]
            },
            {
              "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
              "name": "3.5 - Verificar Cambios en el Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product retrieved\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                    ],
                    "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "4ac426fa-31d1-4701-9ca4-56828eba04ac",
          "length": 39,
          "cycles": 1,
          "position": 19,
          "iteration": 0,
          "httpRequestId": "914ed14b-b815-461e-ba08-89ae281b8bb2",
          "scriptId": "5dc0570d-18d5-4420-a07e-6c7762e15895",
          "execution": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "dc506e0d-fd36-44b3-bc26-a77563fd69cf",
          "timestamp": 1764115607333,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
          "name": "3.5 - Verificar Cambios en el Producto",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "products",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "e7a23dd6-47b1-4f3f-84b9-649e20e56831",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product retrieved\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});",
                  "",
                  "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "abbb80fc-cca5-40ee-abf8-e4415cff940c",
          "length": 39,
          "cycles": 1,
          "position": 20,
          "iteration": 0,
          "httpRequestId": "da0ebe4e-3eea-4ca5-b8d2-93ed6120dbec"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:21)",
          "checksum": "13b536a7c4513ecc5304da713a92d8c9",
          "id": "55743b6c-7178-419b-86b9-80c8acd7ef9d",
          "timestamp": 1764115607341,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 21,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
          "name": "3.5 - Verificar Cambios en el Producto",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product retrieved\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});",
                  "",
                  "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                ],
                "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
              }
            }
          ]
        },
        "parent": {
          "id": "80e52769-ce95-4366-9b12-e37ada969c65",
          "name": "E2E-03: Gestión de Productos y Stock",
          "description": {
            "content": "Flujo de gestión de productos: lista productos, obtiene detalles, actualiza stock y precio, y verifica cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
              "name": "3.1 - Listar Todos los Productos",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has products\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
                  }
                }
              ]
            },
            {
              "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
              "name": "3.2 - Obtener Producto Específico",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product details are correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                      "    pm.expect(jsonData.quantity).to.eql(50);",
                      "});"
                    ],
                    "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
                  }
                }
              ]
            },
            {
              "id": "269948d9-1257-4342-a1fc-50fe019459e4",
              "name": "3.3 - Actualizar Stock del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
                  }
                }
              ]
            },
            {
              "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
              "name": "3.4 - Actualizar Precio del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
                  }
                }
              ]
            },
            {
              "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
              "name": "3.5 - Verificar Cambios en el Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product retrieved\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                    ],
                    "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "abbb80fc-cca5-40ee-abf8-e4415cff940c",
          "length": 39,
          "cycles": 1,
          "position": 20,
          "iteration": 0,
          "httpRequestId": "da0ebe4e-3eea-4ca5-b8d2-93ed6120dbec",
          "scriptId": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
          "execution": "7bc6d12f-a619-4897-b332-5e48e3dad282"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Product retrieved",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:21)",
          "checksum": "44c7a1c6dd2484ef1d9e36052146d6d5",
          "id": "f4fccf68-8200-4a9f-9bc2-390b76760563",
          "timestamp": 1764115607341,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 21,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
          "name": "3.5 - Verificar Cambios en el Producto",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Product retrieved\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});",
                  "",
                  "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                ],
                "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
              }
            }
          ]
        },
        "parent": {
          "id": "80e52769-ce95-4366-9b12-e37ada969c65",
          "name": "E2E-03: Gestión de Productos y Stock",
          "description": {
            "content": "Flujo de gestión de productos: lista productos, obtiene detalles, actualiza stock y precio, y verifica cambios",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "c873ea80-2fa3-494c-b8da-8767603b6742",
              "name": "3.1 - Listar Todos los Productos",
              "request": {
                "url": {
                  "path": [
                    "products"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "707c9fe0-6aae-41ff-b9c4-a4c4c36c0f6a",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response has products\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "2d66e7a2-fb24-4bde-bad4-b2475502c736"
                  }
                }
              ]
            },
            {
              "id": "2e1ee87c-27c3-424c-8a4c-9e22427bbc0e",
              "name": "3.2 - Obtener Producto Específico",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b9e8770d-37b6-4845-b4ea-7e5389c00659",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product details are correct\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.expect(jsonData.productTitle).to.include(\"Laptop\");",
                      "    pm.expect(jsonData.quantity).to.eql(50);",
                      "});"
                    ],
                    "_lastExecutionId": "66ad03c8-ab90-4971-952a-1949694ee468"
                  }
                }
              ]
            },
            {
              "id": "269948d9-1257-4342-a1fc-50fe019459e4",
              "name": "3.3 - Actualizar Stock del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 899.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f56b6947-a7d9-4dd4-89fd-0a65bb5b21c4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "b1a12e57-5274-4050-8e6a-7e4766142610"
                  }
                }
              ]
            },
            {
              "id": "6cfbe8a0-d858-4431-9580-f6a820cd2577",
              "name": "3.4 - Actualizar Precio del Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"productTitle\": \"Laptop HP ProBook\",\n    \"imageUrl\": \"https://example.com/laptop.jpg\",\n    \"sku\": \"HP-PROBOOK-2024\",\n    \"priceUnit\": 849.99,\n    \"quantity\": 48,\n    \"category\": {\n        \"categoryId\": {{test_categoryId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "5dc0570d-18d5-4420-a07e-6c7762e15895",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product updated\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "97a8a48f-3a1a-414b-9b81-b65a0287383e"
                  }
                }
              ]
            },
            {
              "id": "6326bbc6-8238-44be-adec-36b3d25b4269",
              "name": "3.5 - Verificar Cambios en el Producto",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Product retrieved\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});",
                      "",
                      "console.log(\"✅ E2E-03 COMPLETADO: Productos gestionados\");"
                    ],
                    "_lastExecutionId": "7bc6d12f-a619-4897-b332-5e48e3dad282"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "abbb80fc-cca5-40ee-abf8-e4415cff940c",
          "length": 39,
          "cycles": 1,
          "position": 20,
          "iteration": 0,
          "httpRequestId": "da0ebe4e-3eea-4ca5-b8d2-93ed6120dbec",
          "scriptId": "b687b5a7-9b52-4e80-b158-9ccbd488862c",
          "execution": "7bc6d12f-a619-4897-b332-5e48e3dad282"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "26ad1e66-51f4-45a1-b3c7-5ae495881e3e",
          "timestamp": 1764115607856,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
          "name": "4.1 - Crear Item de Envío 1",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "shippings"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "51ebf3c0-1559-43b1-8e0c-92380c92b45f",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": ,\n    \"orderId\": ,\n    \"orderedQuantity\": 1\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Shipping item created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "8e8cb75e-a090-48b1-8fc1-dd2804083baf",
          "length": 39,
          "cycles": 1,
          "position": 21,
          "iteration": 0,
          "httpRequestId": "414ea4dd-195f-4db3-9f38-48a8b1958c1c"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:22)",
          "checksum": "9ffeba7d3967e5e8019b4dcacc6942b9",
          "id": "de1f0249-fdbf-4b63-b38e-2eb58caec7ad",
          "timestamp": 1764115607865,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 22,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
          "name": "4.1 - Crear Item de Envío 1",
          "request": {
            "url": {
              "path": [
                "shippings"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId1}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 1\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Shipping item created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
              }
            }
          ]
        },
        "parent": {
          "id": "7023d071-c0f3-4328-bdea-c9aa4971fee0",
          "name": "E2E-04: Flujo de Envío Completo",
          "description": {
            "content": "Flujo completo de envío: crea items de envío para una orden, lista todos los envíos, consulta específico y actualiza cantidades",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
              "name": "4.1 - Crear Item de Envío 1",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 1\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
                  }
                }
              ]
            },
            {
              "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
              "name": "4.2 - Crear Item de Envío 2",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId2}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 2\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
                  }
                }
              ]
            },
            {
              "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
              "name": "4.3 - Listar Todos los Items de Envío",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
                  }
                }
              ]
            },
            {
              "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
              "name": "4.4 - Obtener Item de Envío Específico",
              "request": {
                "url": {
                  "path": [
                    "shippings",
                    "{{test_orderId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 404 o 400\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    pm.test(\"Shipping item found\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('productId');",
                      "    });",
                      "} else if (pm.response.code === 404 || pm.response.code === 400) {",
                      "    console.log('ℹ️  Envío no encontrado o inaccesible (estado esperado cuando la orden no está en ORDERED)');",
                      "    console.log('Respuesta:', pm.response.code, pm.response.text().substring(0, 100));",
                      "}"
                    ],
                    "_lastExecutionId": "0223c0e6-84f4-4fb9-a6c4-ab81d58c4644"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "8e8cb75e-a090-48b1-8fc1-dd2804083baf",
          "length": 39,
          "cycles": 1,
          "position": 21,
          "iteration": 0,
          "httpRequestId": "414ea4dd-195f-4db3-9f38-48a8b1958c1c",
          "scriptId": "3663c4aa-bf41-46e4-a822-b388ae10f481",
          "execution": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Shipping item created",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:22)",
          "checksum": "2056db4799183125b25e1870a1958819",
          "id": "d0d44ce0-6bc2-4538-98f8-018d5936519d",
          "timestamp": 1764115607865,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 22,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
          "name": "4.1 - Crear Item de Envío 1",
          "request": {
            "url": {
              "path": [
                "shippings"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId1}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 1\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Shipping item created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
              }
            }
          ]
        },
        "parent": {
          "id": "7023d071-c0f3-4328-bdea-c9aa4971fee0",
          "name": "E2E-04: Flujo de Envío Completo",
          "description": {
            "content": "Flujo completo de envío: crea items de envío para una orden, lista todos los envíos, consulta específico y actualiza cantidades",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
              "name": "4.1 - Crear Item de Envío 1",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 1\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
                  }
                }
              ]
            },
            {
              "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
              "name": "4.2 - Crear Item de Envío 2",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId2}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 2\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
                  }
                }
              ]
            },
            {
              "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
              "name": "4.3 - Listar Todos los Items de Envío",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
                  }
                }
              ]
            },
            {
              "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
              "name": "4.4 - Obtener Item de Envío Específico",
              "request": {
                "url": {
                  "path": [
                    "shippings",
                    "{{test_orderId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 404 o 400\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    pm.test(\"Shipping item found\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('productId');",
                      "    });",
                      "} else if (pm.response.code === 404 || pm.response.code === 400) {",
                      "    console.log('ℹ️  Envío no encontrado o inaccesible (estado esperado cuando la orden no está en ORDERED)');",
                      "    console.log('Respuesta:', pm.response.code, pm.response.text().substring(0, 100));",
                      "}"
                    ],
                    "_lastExecutionId": "0223c0e6-84f4-4fb9-a6c4-ab81d58c4644"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "8e8cb75e-a090-48b1-8fc1-dd2804083baf",
          "length": 39,
          "cycles": 1,
          "position": 21,
          "iteration": 0,
          "httpRequestId": "414ea4dd-195f-4db3-9f38-48a8b1958c1c",
          "scriptId": "3663c4aa-bf41-46e4-a822-b388ae10f481",
          "execution": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "644f425b-cb95-4ce6-a2d5-334eae21eddc",
          "timestamp": 1764115608380,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
          "name": "4.2 - Crear Item de Envío 2",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "shippings"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "a4193f36-2a38-48cb-bbe0-ccaccc4c7299",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": ,\n    \"orderId\": ,\n    \"orderedQuantity\": 2\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Shipping item created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "039fcea4-d917-4c7b-891e-5affd1968d86",
          "length": 39,
          "cycles": 1,
          "position": 22,
          "iteration": 0,
          "httpRequestId": "0252e28a-3c59-4626-8881-d5cdb49f9ea8"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:23)",
          "checksum": "418d66e9c8373d365f97efe9ecd59120",
          "id": "9b9298f1-fa48-4c90-8978-0d36a10a2247",
          "timestamp": 1764115608387,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 23,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
          "name": "4.2 - Crear Item de Envío 2",
          "request": {
            "url": {
              "path": [
                "shippings"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId2}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 2\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Shipping item created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
              }
            }
          ]
        },
        "parent": {
          "id": "7023d071-c0f3-4328-bdea-c9aa4971fee0",
          "name": "E2E-04: Flujo de Envío Completo",
          "description": {
            "content": "Flujo completo de envío: crea items de envío para una orden, lista todos los envíos, consulta específico y actualiza cantidades",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
              "name": "4.1 - Crear Item de Envío 1",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 1\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
                  }
                }
              ]
            },
            {
              "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
              "name": "4.2 - Crear Item de Envío 2",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId2}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 2\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
                  }
                }
              ]
            },
            {
              "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
              "name": "4.3 - Listar Todos los Items de Envío",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
                  }
                }
              ]
            },
            {
              "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
              "name": "4.4 - Obtener Item de Envío Específico",
              "request": {
                "url": {
                  "path": [
                    "shippings",
                    "{{test_orderId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 404 o 400\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    pm.test(\"Shipping item found\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('productId');",
                      "    });",
                      "} else if (pm.response.code === 404 || pm.response.code === 400) {",
                      "    console.log('ℹ️  Envío no encontrado o inaccesible (estado esperado cuando la orden no está en ORDERED)');",
                      "    console.log('Respuesta:', pm.response.code, pm.response.text().substring(0, 100));",
                      "}"
                    ],
                    "_lastExecutionId": "0223c0e6-84f4-4fb9-a6c4-ab81d58c4644"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "039fcea4-d917-4c7b-891e-5affd1968d86",
          "length": 39,
          "cycles": 1,
          "position": 22,
          "iteration": 0,
          "httpRequestId": "0252e28a-3c59-4626-8881-d5cdb49f9ea8",
          "scriptId": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
          "execution": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Shipping item created",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:23)",
          "checksum": "87f011977643e7b57b73b368fcc1337f",
          "id": "e7496957-b265-425c-9d9d-3524b6311b97",
          "timestamp": 1764115608387,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 23,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
          "name": "4.2 - Crear Item de Envío 2",
          "request": {
            "url": {
              "path": [
                "shippings"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"productId\": {{test_productId2}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 2\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Shipping item created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
              }
            }
          ]
        },
        "parent": {
          "id": "7023d071-c0f3-4328-bdea-c9aa4971fee0",
          "name": "E2E-04: Flujo de Envío Completo",
          "description": {
            "content": "Flujo completo de envío: crea items de envío para una orden, lista todos los envíos, consulta específico y actualiza cantidades",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
              "name": "4.1 - Crear Item de Envío 1",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 1\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
                  }
                }
              ]
            },
            {
              "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
              "name": "4.2 - Crear Item de Envío 2",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId2}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 2\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
                  }
                }
              ]
            },
            {
              "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
              "name": "4.3 - Listar Todos los Items de Envío",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
                  }
                }
              ]
            },
            {
              "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
              "name": "4.4 - Obtener Item de Envío Específico",
              "request": {
                "url": {
                  "path": [
                    "shippings",
                    "{{test_orderId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 404 o 400\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    pm.test(\"Shipping item found\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('productId');",
                      "    });",
                      "} else if (pm.response.code === 404 || pm.response.code === 400) {",
                      "    console.log('ℹ️  Envío no encontrado o inaccesible (estado esperado cuando la orden no está en ORDERED)');",
                      "    console.log('Respuesta:', pm.response.code, pm.response.text().substring(0, 100));",
                      "}"
                    ],
                    "_lastExecutionId": "0223c0e6-84f4-4fb9-a6c4-ab81d58c4644"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "039fcea4-d917-4c7b-891e-5affd1968d86",
          "length": 39,
          "cycles": 1,
          "position": 22,
          "iteration": 0,
          "httpRequestId": "0252e28a-3c59-4626-8881-d5cdb49f9ea8",
          "scriptId": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
          "execution": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "c713b978-a9c4-4a85-b3e7-a867817cd61e",
          "timestamp": 1764115608902,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
          "name": "4.3 - Listar Todos los Items de Envío",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "shippings"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "52e8e4ee-50d3-4a0e-8214-16627776a822",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response received\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "052318da-7e5d-4165-a5ea-ff602774bc26",
          "length": 39,
          "cycles": 1,
          "position": 23,
          "iteration": 0,
          "httpRequestId": "e1ebfd3a-3e81-4150-8b54-475e1beae867"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:24)",
          "checksum": "c06b10aae7d1e198bcf8490807b193f0",
          "id": "216d8402-1621-432f-a4fe-072b929414db",
          "timestamp": 1764115608908,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 24,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
          "name": "4.3 - Listar Todos los Items de Envío",
          "request": {
            "url": {
              "path": [
                "shippings"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response received\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "});"
                ],
                "_lastExecutionId": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
              }
            }
          ]
        },
        "parent": {
          "id": "7023d071-c0f3-4328-bdea-c9aa4971fee0",
          "name": "E2E-04: Flujo de Envío Completo",
          "description": {
            "content": "Flujo completo de envío: crea items de envío para una orden, lista todos los envíos, consulta específico y actualiza cantidades",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
              "name": "4.1 - Crear Item de Envío 1",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 1\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
                  }
                }
              ]
            },
            {
              "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
              "name": "4.2 - Crear Item de Envío 2",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId2}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 2\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
                  }
                }
              ]
            },
            {
              "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
              "name": "4.3 - Listar Todos los Items de Envío",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
                  }
                }
              ]
            },
            {
              "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
              "name": "4.4 - Obtener Item de Envío Específico",
              "request": {
                "url": {
                  "path": [
                    "shippings",
                    "{{test_orderId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 404 o 400\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    pm.test(\"Shipping item found\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('productId');",
                      "    });",
                      "} else if (pm.response.code === 404 || pm.response.code === 400) {",
                      "    console.log('ℹ️  Envío no encontrado o inaccesible (estado esperado cuando la orden no está en ORDERED)');",
                      "    console.log('Respuesta:', pm.response.code, pm.response.text().substring(0, 100));",
                      "}"
                    ],
                    "_lastExecutionId": "0223c0e6-84f4-4fb9-a6c4-ab81d58c4644"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "052318da-7e5d-4165-a5ea-ff602774bc26",
          "length": 39,
          "cycles": 1,
          "position": 23,
          "iteration": 0,
          "httpRequestId": "e1ebfd3a-3e81-4150-8b54-475e1beae867",
          "scriptId": "58848224-e900-4f4e-abd4-99350b34f3da",
          "execution": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Response received",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:24)",
          "checksum": "2c62b1b4e75b396b847b5edd47506942",
          "id": "39b38131-6292-49b9-8400-911c8739cfee",
          "timestamp": 1764115608909,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 24,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
          "name": "4.3 - Listar Todos los Items de Envío",
          "request": {
            "url": {
              "path": [
                "shippings"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response received\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('object');",
                  "});"
                ],
                "_lastExecutionId": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
              }
            }
          ]
        },
        "parent": {
          "id": "7023d071-c0f3-4328-bdea-c9aa4971fee0",
          "name": "E2E-04: Flujo de Envío Completo",
          "description": {
            "content": "Flujo completo de envío: crea items de envío para una orden, lista todos los envíos, consulta específico y actualiza cantidades",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
              "name": "4.1 - Crear Item de Envío 1",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 1\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
                  }
                }
              ]
            },
            {
              "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
              "name": "4.2 - Crear Item de Envío 2",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId2}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 2\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
                  }
                }
              ]
            },
            {
              "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
              "name": "4.3 - Listar Todos los Items de Envío",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
                  }
                }
              ]
            },
            {
              "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
              "name": "4.4 - Obtener Item de Envío Específico",
              "request": {
                "url": {
                  "path": [
                    "shippings",
                    "{{test_orderId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 404 o 400\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    pm.test(\"Shipping item found\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('productId');",
                      "    });",
                      "} else if (pm.response.code === 404 || pm.response.code === 400) {",
                      "    console.log('ℹ️  Envío no encontrado o inaccesible (estado esperado cuando la orden no está en ORDERED)');",
                      "    console.log('Respuesta:', pm.response.code, pm.response.text().substring(0, 100));",
                      "}"
                    ],
                    "_lastExecutionId": "0223c0e6-84f4-4fb9-a6c4-ab81d58c4644"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "052318da-7e5d-4165-a5ea-ff602774bc26",
          "length": 39,
          "cycles": 1,
          "position": 23,
          "iteration": 0,
          "httpRequestId": "e1ebfd3a-3e81-4150-8b54-475e1beae867",
          "scriptId": "58848224-e900-4f4e-abd4-99350b34f3da",
          "execution": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "e50bf8fe-df8c-4127-8036-68d100d48ee2",
          "timestamp": 1764115609423,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
          "name": "4.4 - Obtener Item de Envío Específico",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "shippings",
                "",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "95dd4d88-75ec-4f6d-a22c-543de3ace3a6",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 404 o 400\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400]);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    pm.test(\"Shipping item found\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('productId');",
                  "    });",
                  "} else if (pm.response.code === 404 || pm.response.code === 400) {",
                  "    console.log('ℹ️  Envío no encontrado o inaccesible (estado esperado cuando la orden no está en ORDERED)');",
                  "    console.log('Respuesta:', pm.response.code, pm.response.text().substring(0, 100));",
                  "}"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "421368ab-dbb0-4f21-845d-c6523e8a3720",
          "length": 39,
          "cycles": 1,
          "position": 24,
          "iteration": 0,
          "httpRequestId": "1d011e9c-b873-43c7-970c-fb4ede0f6d6a"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200, 404 o 400",
          "message": "expected undefined to be one of [ 200, 404, 400 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 404, 400 ]\n   at Object.eval sandbox-script.js:1:25)",
          "checksum": "e3deb38450b6c98851d4fb0a52df24b8",
          "id": "dcb2e169-1084-4685-bb57-f0c5c2268278",
          "timestamp": 1764115609431,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 25,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
          "name": "4.4 - Obtener Item de Envío Específico",
          "request": {
            "url": {
              "path": [
                "shippings",
                "{{test_orderId}}",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 404 o 400\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400]);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    pm.test(\"Shipping item found\", function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('productId');",
                  "    });",
                  "} else if (pm.response.code === 404 || pm.response.code === 400) {",
                  "    console.log('ℹ️  Envío no encontrado o inaccesible (estado esperado cuando la orden no está en ORDERED)');",
                  "    console.log('Respuesta:', pm.response.code, pm.response.text().substring(0, 100));",
                  "}"
                ],
                "_lastExecutionId": "0223c0e6-84f4-4fb9-a6c4-ab81d58c4644"
              }
            }
          ]
        },
        "parent": {
          "id": "7023d071-c0f3-4328-bdea-c9aa4971fee0",
          "name": "E2E-04: Flujo de Envío Completo",
          "description": {
            "content": "Flujo completo de envío: crea items de envío para una orden, lista todos los envíos, consulta específico y actualiza cantidades",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "7f0f46ce-c16b-439b-8d2a-cda3033d15ca",
              "name": "4.1 - Crear Item de Envío 1",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId1}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 1\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "3663c4aa-bf41-46e4-a822-b388ae10f481",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "c000d10d-9a40-45bc-bd45-9ac2acc666e4"
                  }
                }
              ]
            },
            {
              "id": "9f6be925-699d-4a01-afd5-a5b901023d1e",
              "name": "4.2 - Crear Item de Envío 2",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"productId\": {{test_productId2}},\n    \"orderId\": {{test_orderId}},\n    \"orderedQuantity\": 2\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e604d3fe-1c5c-4efc-a9a7-7e8b596cd573",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Shipping item created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "4a0ee1ba-5070-4f7a-b3fe-a5157c06cd2d"
                  }
                }
              ]
            },
            {
              "id": "28ebc1b8-35aa-4bb6-a46b-b342b88add67",
              "name": "4.3 - Listar Todos los Items de Envío",
              "request": {
                "url": {
                  "path": [
                    "shippings"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "58848224-e900-4f4e-abd4-99350b34f3da",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('object');",
                      "});"
                    ],
                    "_lastExecutionId": "a4f591df-7f0b-41e0-8fd2-12c7947d283d"
                  }
                }
              ]
            },
            {
              "id": "e46f3fc7-e840-4961-923c-c967f4fe650f",
              "name": "4.4 - Obtener Item de Envío Específico",
              "request": {
                "url": {
                  "path": [
                    "shippings",
                    "{{test_orderId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 404 o 400\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 404, 400]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    pm.test(\"Shipping item found\", function () {",
                      "        var jsonData = pm.response.json();",
                      "        pm.expect(jsonData).to.have.property('productId');",
                      "    });",
                      "} else if (pm.response.code === 404 || pm.response.code === 400) {",
                      "    console.log('ℹ️  Envío no encontrado o inaccesible (estado esperado cuando la orden no está en ORDERED)');",
                      "    console.log('Respuesta:', pm.response.code, pm.response.text().substring(0, 100));",
                      "}"
                    ],
                    "_lastExecutionId": "0223c0e6-84f4-4fb9-a6c4-ab81d58c4644"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "421368ab-dbb0-4f21-845d-c6523e8a3720",
          "length": 39,
          "cycles": 1,
          "position": 24,
          "iteration": 0,
          "httpRequestId": "1d011e9c-b873-43c7-970c-fb4ede0f6d6a",
          "scriptId": "017b6956-4817-4fea-b4ab-6dfa9ef8e2be",
          "execution": "0223c0e6-84f4-4fb9-a6c4-ab81d58c4644"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "4e87e6ab-499f-4a0f-a11c-3cbde2758418",
          "timestamp": 1764115609947,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "321963a9-788e-4dab-b35b-11bac36ee287",
          "name": "5.1 - Agregar Producto 1 a Favoritos",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "favourites"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "395f0b16-9b89-4349-b979-64af660f6ae2",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": ,\n    \"productId\": ,\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite 1 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                  "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "e75a7f27-a3d3-44a2-befb-dca868c23d53",
          "length": 39,
          "cycles": 1,
          "position": 25,
          "iteration": 0,
          "httpRequestId": "b4adecc0-dc4d-4863-aa43-e2e16a11f0e8"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:26)",
          "checksum": "211bdb9652d5039b74d305514ec21c8d",
          "id": "d1c193c2-c781-46e5-9951-abdab49ff89b",
          "timestamp": 1764115609955,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "321963a9-788e-4dab-b35b-11bac36ee287",
          "name": "5.1 - Agregar Producto 1 a Favoritos",
          "request": {
            "url": {
              "path": [
                "favourites"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite 1 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                  "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                  "});"
                ],
                "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
              }
            }
          ]
        },
        "parent": {
          "id": "4d014ca4-b309-4486-8294-6847569037cf",
          "name": "E2E-05: Gestión de Favoritos de Usuario",
          "description": {
            "content": "Flujo completo de gestión de favoritos: agrega productos a favoritos, lista todos, consulta específico y elimina favoritos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "321963a9-788e-4dab-b35b-11bac36ee287",
              "name": "5.1 - Agregar Producto 1 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
                  }
                }
              ]
            },
            {
              "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
              "name": "5.2 - Agregar Producto 2 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                      "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
                  }
                }
              ]
            },
            {
              "id": "3997e827-acd2-40da-a1b2-b467b1324988",
              "name": "5.3 - Listar Todos los Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e1a77352-341b-422a-811d-46de91326c5f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    pm.response.to.be.ok;",
                      "});"
                    ],
                    "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
                  }
                }
              ]
            },
            {
              "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
              "name": "5.4 - Obtener Favorito Específico",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite has required fields\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "e75a7f27-a3d3-44a2-befb-dca868c23d53",
          "length": 39,
          "cycles": 1,
          "position": 25,
          "iteration": 0,
          "httpRequestId": "b4adecc0-dc4d-4863-aa43-e2e16a11f0e8",
          "scriptId": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
          "execution": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Favourite 1 created",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:26)",
          "checksum": "2f4b1b3cee7027ff95979d46ec07df4c",
          "id": "36487ba7-4c70-41f3-ba2e-69b44fe63eb0",
          "timestamp": 1764115609955,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 26,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "321963a9-788e-4dab-b35b-11bac36ee287",
          "name": "5.1 - Agregar Producto 1 a Favoritos",
          "request": {
            "url": {
              "path": [
                "favourites"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite 1 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                  "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                  "});"
                ],
                "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
              }
            }
          ]
        },
        "parent": {
          "id": "4d014ca4-b309-4486-8294-6847569037cf",
          "name": "E2E-05: Gestión de Favoritos de Usuario",
          "description": {
            "content": "Flujo completo de gestión de favoritos: agrega productos a favoritos, lista todos, consulta específico y elimina favoritos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "321963a9-788e-4dab-b35b-11bac36ee287",
              "name": "5.1 - Agregar Producto 1 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
                  }
                }
              ]
            },
            {
              "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
              "name": "5.2 - Agregar Producto 2 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                      "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
                  }
                }
              ]
            },
            {
              "id": "3997e827-acd2-40da-a1b2-b467b1324988",
              "name": "5.3 - Listar Todos los Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e1a77352-341b-422a-811d-46de91326c5f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    pm.response.to.be.ok;",
                      "});"
                    ],
                    "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
                  }
                }
              ]
            },
            {
              "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
              "name": "5.4 - Obtener Favorito Específico",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite has required fields\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "e75a7f27-a3d3-44a2-befb-dca868c23d53",
          "length": 39,
          "cycles": 1,
          "position": 25,
          "iteration": 0,
          "httpRequestId": "b4adecc0-dc4d-4863-aa43-e2e16a11f0e8",
          "scriptId": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
          "execution": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "50956c4c-79a3-404a-b5e4-bbdd04294692",
          "timestamp": 1764115610471,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
          "name": "5.2 - Agregar Producto 2 a Favoritos",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "favourites"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "4c4a8098-8bf2-4ab6-9888-26e1c604f128",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": ,\n    \"productId\": ,\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite 2 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                  "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "4d15deaf-59a1-45bc-b39a-ad01162287d0",
          "length": 39,
          "cycles": 1,
          "position": 26,
          "iteration": 0,
          "httpRequestId": "2ba0b283-30bc-412e-9974-8bc0385f3816"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:27)",
          "checksum": "a5db5337487342bfb7842ff67baa3233",
          "id": "c3397909-3317-4fa2-9316-61a31883e64f",
          "timestamp": 1764115610479,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 27,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
          "name": "5.2 - Agregar Producto 2 a Favoritos",
          "request": {
            "url": {
              "path": [
                "favourites"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite 2 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                  "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                  "});"
                ],
                "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
              }
            }
          ]
        },
        "parent": {
          "id": "4d014ca4-b309-4486-8294-6847569037cf",
          "name": "E2E-05: Gestión de Favoritos de Usuario",
          "description": {
            "content": "Flujo completo de gestión de favoritos: agrega productos a favoritos, lista todos, consulta específico y elimina favoritos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "321963a9-788e-4dab-b35b-11bac36ee287",
              "name": "5.1 - Agregar Producto 1 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
                  }
                }
              ]
            },
            {
              "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
              "name": "5.2 - Agregar Producto 2 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                      "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
                  }
                }
              ]
            },
            {
              "id": "3997e827-acd2-40da-a1b2-b467b1324988",
              "name": "5.3 - Listar Todos los Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e1a77352-341b-422a-811d-46de91326c5f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    pm.response.to.be.ok;",
                      "});"
                    ],
                    "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
                  }
                }
              ]
            },
            {
              "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
              "name": "5.4 - Obtener Favorito Específico",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite has required fields\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "4d15deaf-59a1-45bc-b39a-ad01162287d0",
          "length": 39,
          "cycles": 1,
          "position": 26,
          "iteration": 0,
          "httpRequestId": "2ba0b283-30bc-412e-9974-8bc0385f3816",
          "scriptId": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
          "execution": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Favourite 2 created",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:27)",
          "checksum": "2300647586618dba0d8e6285eb312424",
          "id": "5f821337-ae49-4802-90ad-790a25d2f654",
          "timestamp": 1764115610479,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 27,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
          "name": "5.2 - Agregar Producto 2 a Favoritos",
          "request": {
            "url": {
              "path": [
                "favourites"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite 2 created\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                  "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                  "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                  "});"
                ],
                "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
              }
            }
          ]
        },
        "parent": {
          "id": "4d014ca4-b309-4486-8294-6847569037cf",
          "name": "E2E-05: Gestión de Favoritos de Usuario",
          "description": {
            "content": "Flujo completo de gestión de favoritos: agrega productos a favoritos, lista todos, consulta específico y elimina favoritos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "321963a9-788e-4dab-b35b-11bac36ee287",
              "name": "5.1 - Agregar Producto 1 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
                  }
                }
              ]
            },
            {
              "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
              "name": "5.2 - Agregar Producto 2 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                      "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
                  }
                }
              ]
            },
            {
              "id": "3997e827-acd2-40da-a1b2-b467b1324988",
              "name": "5.3 - Listar Todos los Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e1a77352-341b-422a-811d-46de91326c5f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    pm.response.to.be.ok;",
                      "});"
                    ],
                    "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
                  }
                }
              ]
            },
            {
              "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
              "name": "5.4 - Obtener Favorito Específico",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite has required fields\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "4d15deaf-59a1-45bc-b39a-ad01162287d0",
          "length": 39,
          "cycles": 1,
          "position": 26,
          "iteration": 0,
          "httpRequestId": "2ba0b283-30bc-412e-9974-8bc0385f3816",
          "scriptId": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
          "execution": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "6b9db61e-060a-4b5b-bff3-37847cdda2b2",
          "timestamp": 1764115610993,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "3997e827-acd2-40da-a1b2-b467b1324988",
          "name": "5.3 - Listar Todos los Favoritos",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "favourites"
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "092d0919-54c0-486e-9462-a44c835a4bc7",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e1a77352-341b-422a-811d-46de91326c5f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response received\", function () {",
                  "    pm.response.to.be.ok;",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "424fd17b-a750-4d58-ae2b-a9b24b098ffd",
          "length": 39,
          "cycles": 1,
          "position": 27,
          "iteration": 0,
          "httpRequestId": "2219b322-11a4-4e57-aa9d-7a13872bc7d6"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:28)",
          "checksum": "9db66707c35fd49750c8ee41c32c864e",
          "id": "590c1431-fc16-489c-9501-c16a468999dd",
          "timestamp": 1764115611000,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 28,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "3997e827-acd2-40da-a1b2-b467b1324988",
          "name": "5.3 - Listar Todos los Favoritos",
          "request": {
            "url": {
              "path": [
                "favourites"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e1a77352-341b-422a-811d-46de91326c5f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response received\", function () {",
                  "    pm.response.to.be.ok;",
                  "});"
                ],
                "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
              }
            }
          ]
        },
        "parent": {
          "id": "4d014ca4-b309-4486-8294-6847569037cf",
          "name": "E2E-05: Gestión de Favoritos de Usuario",
          "description": {
            "content": "Flujo completo de gestión de favoritos: agrega productos a favoritos, lista todos, consulta específico y elimina favoritos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "321963a9-788e-4dab-b35b-11bac36ee287",
              "name": "5.1 - Agregar Producto 1 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
                  }
                }
              ]
            },
            {
              "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
              "name": "5.2 - Agregar Producto 2 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                      "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
                  }
                }
              ]
            },
            {
              "id": "3997e827-acd2-40da-a1b2-b467b1324988",
              "name": "5.3 - Listar Todos los Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e1a77352-341b-422a-811d-46de91326c5f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    pm.response.to.be.ok;",
                      "});"
                    ],
                    "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
                  }
                }
              ]
            },
            {
              "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
              "name": "5.4 - Obtener Favorito Específico",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite has required fields\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "424fd17b-a750-4d58-ae2b-a9b24b098ffd",
          "length": 39,
          "cycles": 1,
          "position": 27,
          "iteration": 0,
          "httpRequestId": "2219b322-11a4-4e57-aa9d-7a13872bc7d6",
          "scriptId": "e1a77352-341b-422a-811d-46de91326c5f",
          "execution": "3f230076-fb5e-432a-a074-0aed811f5357"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 1,
          "test": "Response received",
          "message": "expected response to have status reason 'OK' but got 'UNDEFINED'",
          "stack": "AssertionError: expected response to have status reason 'OK' but got 'UNDEFINED'\n   at Object.eval sandbox-script.js:2:28)",
          "checksum": "5c6f4a386c0b13f03c59894b2ba227ef",
          "id": "0fcd1dd8-ee40-44ea-b8db-8ee10a409115",
          "timestamp": 1764115611001,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 28,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "3997e827-acd2-40da-a1b2-b467b1324988",
          "name": "5.3 - Listar Todos los Favoritos",
          "request": {
            "url": {
              "path": [
                "favourites"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e1a77352-341b-422a-811d-46de91326c5f",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response received\", function () {",
                  "    pm.response.to.be.ok;",
                  "});"
                ],
                "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
              }
            }
          ]
        },
        "parent": {
          "id": "4d014ca4-b309-4486-8294-6847569037cf",
          "name": "E2E-05: Gestión de Favoritos de Usuario",
          "description": {
            "content": "Flujo completo de gestión de favoritos: agrega productos a favoritos, lista todos, consulta específico y elimina favoritos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "321963a9-788e-4dab-b35b-11bac36ee287",
              "name": "5.1 - Agregar Producto 1 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
                  }
                }
              ]
            },
            {
              "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
              "name": "5.2 - Agregar Producto 2 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                      "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
                  }
                }
              ]
            },
            {
              "id": "3997e827-acd2-40da-a1b2-b467b1324988",
              "name": "5.3 - Listar Todos los Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e1a77352-341b-422a-811d-46de91326c5f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    pm.response.to.be.ok;",
                      "});"
                    ],
                    "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
                  }
                }
              ]
            },
            {
              "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
              "name": "5.4 - Obtener Favorito Específico",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite has required fields\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "424fd17b-a750-4d58-ae2b-a9b24b098ffd",
          "length": 39,
          "cycles": 1,
          "position": 27,
          "iteration": 0,
          "httpRequestId": "2219b322-11a4-4e57-aa9d-7a13872bc7d6",
          "scriptId": "e1a77352-341b-422a-811d-46de91326c5f",
          "execution": "3f230076-fb5e-432a-a074-0aed811f5357"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "8de4fab1-9a8d-4dc2-9386-13b84f4a77e3",
          "timestamp": 1764115611515,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
          "name": "5.4 - Obtener Favorito Específico",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "favourites",
                "",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "966fff41-2da3-4a69-bda9-409403c7d948",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite has required fields\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "dbe570f6-0b13-4745-9932-4030629a2615",
          "length": 39,
          "cycles": 1,
          "position": 28,
          "iteration": 0,
          "httpRequestId": "5a6b4537-4507-48ef-8b67-608781ea1dbf"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200",
          "message": "expected PostmanResponse{ …(5) } to have property 'code'",
          "stack": "AssertionError: expected PostmanResponse{ …(5) } to have property 'code'\n   at Object.eval sandbox-script.js:1:29)",
          "checksum": "8a5cce3ebef032b7f3a5c43c311874cf",
          "id": "8c445958-3b42-4ec3-b982-8e89c294a447",
          "timestamp": 1764115611522,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 29,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
          "name": "5.4 - Obtener Favorito Específico",
          "request": {
            "url": {
              "path": [
                "favourites",
                "{{test_userId}}",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite has required fields\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
              }
            }
          ]
        },
        "parent": {
          "id": "4d014ca4-b309-4486-8294-6847569037cf",
          "name": "E2E-05: Gestión de Favoritos de Usuario",
          "description": {
            "content": "Flujo completo de gestión de favoritos: agrega productos a favoritos, lista todos, consulta específico y elimina favoritos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "321963a9-788e-4dab-b35b-11bac36ee287",
              "name": "5.1 - Agregar Producto 1 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
                  }
                }
              ]
            },
            {
              "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
              "name": "5.2 - Agregar Producto 2 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                      "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
                  }
                }
              ]
            },
            {
              "id": "3997e827-acd2-40da-a1b2-b467b1324988",
              "name": "5.3 - Listar Todos los Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e1a77352-341b-422a-811d-46de91326c5f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    pm.response.to.be.ok;",
                      "});"
                    ],
                    "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
                  }
                }
              ]
            },
            {
              "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
              "name": "5.4 - Obtener Favorito Específico",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite has required fields\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "dbe570f6-0b13-4745-9932-4030629a2615",
          "length": 39,
          "cycles": 1,
          "position": 28,
          "iteration": 0,
          "httpRequestId": "5a6b4537-4507-48ef-8b67-608781ea1dbf",
          "scriptId": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
          "execution": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
        }
      },
      {
        "error": {
          "name": "JSONError",
          "index": 1,
          "test": "Favourite has required fields",
          "message": "Unexpected token u in JSON at position 0",
          "stack": "JSONError: Unexpected token u in JSON at position 0\n   at Object.eval sandbox-script.js:2:29)",
          "checksum": "eaeb2fa7248fd3a64a0e9b8279630930",
          "id": "b73b050c-4a6b-439d-9a68-36e1747951e7",
          "timestamp": 1764115611523,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 2,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 29,
              "native": false
            }
          ]
        },
        "at": "assertion:1 in test-script",
        "source": {
          "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
          "name": "5.4 - Obtener Favorito Específico",
          "request": {
            "url": {
              "path": [
                "favourites",
                "{{test_userId}}",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "GET",
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Favourite has required fields\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('userId');",
                  "    pm.expect(jsonData).to.have.property('productId');",
                  "});"
                ],
                "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
              }
            }
          ]
        },
        "parent": {
          "id": "4d014ca4-b309-4486-8294-6847569037cf",
          "name": "E2E-05: Gestión de Favoritos de Usuario",
          "description": {
            "content": "Flujo completo de gestión de favoritos: agrega productos a favoritos, lista todos, consulta específico y elimina favoritos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "321963a9-788e-4dab-b35b-11bac36ee287",
              "name": "5.1 - Agregar Producto 1 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId1}},\n    \"likeDate\": \"02-11-2024__11:00:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9cc50d41-4180-435d-88ea-23d098ccf8a6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 1 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId1\")));",
                      "    pm.environment.set(\"test_likeDate1\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "a39efdc6-d4ef-49dd-a343-485590a7a52e"
                  }
                }
              ]
            },
            {
              "id": "c834c008-0e15-4cba-b015-d0f5df88e89e",
              "name": "5.2 - Agregar Producto 2 a Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "POST",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"userId\": {{test_userId}},\n    \"productId\": {{test_productId2}},\n    \"likeDate\": \"02-11-2024__11:15:00:000000\"\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "f8c9b8ff-04e8-4839-b425-990ac6a1b062",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite 2 created\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.userId).to.eql(parseInt(pm.environment.get(\"test_userId\")));",
                      "    pm.expect(jsonData.productId).to.eql(parseInt(pm.environment.get(\"test_productId2\")));",
                      "    pm.environment.set(\"test_likeDate2\", jsonData.likeDate);",
                      "});"
                    ],
                    "_lastExecutionId": "e52c106f-25f7-45f1-ab39-06953cc0ff12"
                  }
                }
              ]
            },
            {
              "id": "3997e827-acd2-40da-a1b2-b467b1324988",
              "name": "5.3 - Listar Todos los Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "e1a77352-341b-422a-811d-46de91326c5f",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Response received\", function () {",
                      "    pm.response.to.be.ok;",
                      "});"
                    ],
                    "_lastExecutionId": "3f230076-fb5e-432a-a074-0aed811f5357"
                  }
                }
              ]
            },
            {
              "id": "7c0624aa-7390-48de-b540-ca6bbc28ff14",
              "name": "5.4 - Obtener Favorito Específico",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "GET",
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200\", function () {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "pm.test(\"Favourite has required fields\", function () {",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('userId');",
                      "    pm.expect(jsonData).to.have.property('productId');",
                      "});"
                    ],
                    "_lastExecutionId": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "dbe570f6-0b13-4745-9932-4030629a2615",
          "length": 39,
          "cycles": 1,
          "position": 28,
          "iteration": 0,
          "httpRequestId": "5a6b4537-4507-48ef-8b67-608781ea1dbf",
          "scriptId": "22bdb13d-f708-42b8-8ac0-1fd1d61737e1",
          "execution": "256356d1-20b6-4a2a-a492-1bcfe66cbfd2"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "519cb36d-64b6-446c-9f0d-201be4a0425d",
          "timestamp": 1764115612035,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
          "name": "99.1 - Eliminar Favoritos",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "favourites",
                "",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "ea94fa27-30c6-406e-b0a5-09bf6aa720dc",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Favoritos eliminados\");"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "c4138567-b9e2-4736-b468-18bb3165e31c",
          "length": 39,
          "cycles": 1,
          "position": 29,
          "iteration": 0,
          "httpRequestId": "94b45c7e-eb37-409e-b34b-592d7623cdc6"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200, 204 or 404",
          "message": "expected undefined to be one of [ 200, 204, 404 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:30)",
          "checksum": "b0c3a7dc10fea8ef76cb13326ba46f69",
          "id": "d10c80b9-923d-420d-8e79-8c8a46707c17",
          "timestamp": 1764115612042,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 30,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
          "name": "99.1 - Eliminar Favoritos",
          "request": {
            "url": {
              "path": [
                "favourites",
                "{{test_userId}}",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Favoritos eliminados\");"
                ],
                "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
              }
            }
          ]
        },
        "parent": {
          "id": "633ebab2-f6f9-4d63-b286-de2671417899",
          "name": "E2E-99: Cleanup - Eliminar Datos de Prueba",
          "description": {
            "content": "Cleanup: Elimina todos los recursos creados durante los tests para permitir que la colección se ejecute nuevamente sin conflictos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
              "name": "99.1 - Eliminar Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Favoritos eliminados\");"
                    ],
                    "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
                  }
                }
              ]
            },
            {
              "id": "e790bce5-9069-4817-b756-64ac1f287592",
              "name": "99.2 - Eliminar Segundo Favorito",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Segundo favorito eliminado\");"
                    ],
                    "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
                  }
                }
              ]
            },
            {
              "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
              "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log(\"Orden cambiada a CANCELLED\");",
                      "} else {",
                      "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                      "}"
                    ],
                    "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
                  }
                }
              ]
            },
            {
              "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
              "name": "99.3b - Eliminar Orden",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "071061d0-2290-4673-b00c-996b1705fc48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Orden eliminada o no existe\");"
                    ],
                    "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
                  }
                }
              ]
            },
            {
              "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
              "name": "99.4 - Eliminar Carrito",
              "request": {
                "url": {
                  "path": [
                    "carts",
                    "{{test_cartId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Carrito eliminado\");"
                    ],
                    "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
                  }
                }
              ]
            },
            {
              "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
              "name": "99.5 - Eliminar Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 1 eliminado\");"
                    ],
                    "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
                  }
                }
              ]
            },
            {
              "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
              "name": "99.6 - Eliminar Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 2 eliminado\");"
                    ],
                    "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
                  }
                }
              ]
            },
            {
              "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
              "name": "99.7 - Eliminar Categoría",
              "request": {
                "url": {
                  "path": [
                    "categories",
                    "{{test_categoryId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Categoría eliminada\");"
                    ],
                    "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
                  }
                }
              ]
            },
            {
              "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
              "name": "99.8 - Eliminar Credenciales del Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Credenciales del usuario eliminadas\");"
                    ],
                    "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
                  }
                }
              ]
            },
            {
              "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
              "name": "99.10 - Eliminar Credenciales Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{admin_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 204) {",
                      "    console.log(\"✅ Credenciales admin eliminadas\");",
                      "} else {",
                      "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                      "}"
                    ],
                    "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "c4138567-b9e2-4736-b468-18bb3165e31c",
          "length": 39,
          "cycles": 1,
          "position": 29,
          "iteration": 0,
          "httpRequestId": "94b45c7e-eb37-409e-b34b-592d7623cdc6",
          "scriptId": "6658d84c-329e-46f7-b0e0-052a62c07b09",
          "execution": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "f2bf98ce-b20e-49e6-b4d3-b54ee9d132ff",
          "timestamp": 1764115612555,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "e790bce5-9069-4817-b756-64ac1f287592",
          "name": "99.2 - Eliminar Segundo Favorito",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "favourites",
                "",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "054deed5-f1dc-4029-9079-92e8e4177132",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Segundo favorito eliminado\");"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "6e656cb2-0a77-478c-84cf-d565a0d89e6a",
          "length": 39,
          "cycles": 1,
          "position": 30,
          "iteration": 0,
          "httpRequestId": "cfedb6a0-76eb-40d1-bf3a-4eaa8d38db89"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200, 204 or 404",
          "message": "expected undefined to be one of [ 200, 204, 404 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:31)",
          "checksum": "4b390d94ba67f02c4f626739ba8c24b0",
          "id": "bdd53180-e42f-4ccd-93c8-8735bae7c0fc",
          "timestamp": 1764115612561,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 31,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e790bce5-9069-4817-b756-64ac1f287592",
          "name": "99.2 - Eliminar Segundo Favorito",
          "request": {
            "url": {
              "path": [
                "favourites",
                "{{test_userId}}",
                "{{test_productId2}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Segundo favorito eliminado\");"
                ],
                "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
              }
            }
          ]
        },
        "parent": {
          "id": "633ebab2-f6f9-4d63-b286-de2671417899",
          "name": "E2E-99: Cleanup - Eliminar Datos de Prueba",
          "description": {
            "content": "Cleanup: Elimina todos los recursos creados durante los tests para permitir que la colección se ejecute nuevamente sin conflictos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
              "name": "99.1 - Eliminar Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Favoritos eliminados\");"
                    ],
                    "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
                  }
                }
              ]
            },
            {
              "id": "e790bce5-9069-4817-b756-64ac1f287592",
              "name": "99.2 - Eliminar Segundo Favorito",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Segundo favorito eliminado\");"
                    ],
                    "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
                  }
                }
              ]
            },
            {
              "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
              "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log(\"Orden cambiada a CANCELLED\");",
                      "} else {",
                      "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                      "}"
                    ],
                    "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
                  }
                }
              ]
            },
            {
              "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
              "name": "99.3b - Eliminar Orden",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "071061d0-2290-4673-b00c-996b1705fc48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Orden eliminada o no existe\");"
                    ],
                    "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
                  }
                }
              ]
            },
            {
              "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
              "name": "99.4 - Eliminar Carrito",
              "request": {
                "url": {
                  "path": [
                    "carts",
                    "{{test_cartId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Carrito eliminado\");"
                    ],
                    "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
                  }
                }
              ]
            },
            {
              "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
              "name": "99.5 - Eliminar Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 1 eliminado\");"
                    ],
                    "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
                  }
                }
              ]
            },
            {
              "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
              "name": "99.6 - Eliminar Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 2 eliminado\");"
                    ],
                    "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
                  }
                }
              ]
            },
            {
              "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
              "name": "99.7 - Eliminar Categoría",
              "request": {
                "url": {
                  "path": [
                    "categories",
                    "{{test_categoryId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Categoría eliminada\");"
                    ],
                    "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
                  }
                }
              ]
            },
            {
              "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
              "name": "99.8 - Eliminar Credenciales del Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Credenciales del usuario eliminadas\");"
                    ],
                    "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
                  }
                }
              ]
            },
            {
              "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
              "name": "99.10 - Eliminar Credenciales Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{admin_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 204) {",
                      "    console.log(\"✅ Credenciales admin eliminadas\");",
                      "} else {",
                      "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                      "}"
                    ],
                    "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "6e656cb2-0a77-478c-84cf-d565a0d89e6a",
          "length": 39,
          "cycles": 1,
          "position": 30,
          "iteration": 0,
          "httpRequestId": "cfedb6a0-76eb-40d1-bf3a-4eaa8d38db89",
          "scriptId": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
          "execution": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "65d4190e-0e6e-4121-8b32-749884f55f08",
          "timestamp": 1764115613075,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
          "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "orders",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}",
                "system": true
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "a341daaa-c1f6-4476-a5b2-0a67645a0a5e",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderId\": ,\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": \n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 400 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    console.log(\"Orden cambiada a CANCELLED\");",
                  "} else {",
                  "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                  "}"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "660faff1-b04d-47a6-9894-ca747192a463",
          "length": 39,
          "cycles": 1,
          "position": 31,
          "iteration": 0,
          "httpRequestId": "14085c5d-4a47-4682-b44a-0b88f645917d"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200, 400 or 404",
          "message": "expected undefined to be one of [ 200, 400, 404 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 400, 404 ]\n   at Object.eval sandbox-script.js:1:32)",
          "checksum": "43ad40d9f20717cfeaa7ea40a78b32d8",
          "id": "9917ad3a-2a45-4abf-b331-b2e9a036bb25",
          "timestamp": 1764115613081,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 32,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
          "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
          "request": {
            "url": {
              "path": [
                "orders",
                "{{test_orderId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "PUT",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "type": "string",
                  "value": "{{jwt_token}}",
                  "key": "token"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 400 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    console.log(\"Orden cambiada a CANCELLED\");",
                  "} else {",
                  "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                  "}"
                ],
                "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
              }
            }
          ]
        },
        "parent": {
          "id": "633ebab2-f6f9-4d63-b286-de2671417899",
          "name": "E2E-99: Cleanup - Eliminar Datos de Prueba",
          "description": {
            "content": "Cleanup: Elimina todos los recursos creados durante los tests para permitir que la colección se ejecute nuevamente sin conflictos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
              "name": "99.1 - Eliminar Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Favoritos eliminados\");"
                    ],
                    "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
                  }
                }
              ]
            },
            {
              "id": "e790bce5-9069-4817-b756-64ac1f287592",
              "name": "99.2 - Eliminar Segundo Favorito",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Segundo favorito eliminado\");"
                    ],
                    "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
                  }
                }
              ]
            },
            {
              "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
              "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log(\"Orden cambiada a CANCELLED\");",
                      "} else {",
                      "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                      "}"
                    ],
                    "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
                  }
                }
              ]
            },
            {
              "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
              "name": "99.3b - Eliminar Orden",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "071061d0-2290-4673-b00c-996b1705fc48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Orden eliminada o no existe\");"
                    ],
                    "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
                  }
                }
              ]
            },
            {
              "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
              "name": "99.4 - Eliminar Carrito",
              "request": {
                "url": {
                  "path": [
                    "carts",
                    "{{test_cartId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Carrito eliminado\");"
                    ],
                    "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
                  }
                }
              ]
            },
            {
              "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
              "name": "99.5 - Eliminar Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 1 eliminado\");"
                    ],
                    "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
                  }
                }
              ]
            },
            {
              "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
              "name": "99.6 - Eliminar Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 2 eliminado\");"
                    ],
                    "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
                  }
                }
              ]
            },
            {
              "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
              "name": "99.7 - Eliminar Categoría",
              "request": {
                "url": {
                  "path": [
                    "categories",
                    "{{test_categoryId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Categoría eliminada\");"
                    ],
                    "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
                  }
                }
              ]
            },
            {
              "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
              "name": "99.8 - Eliminar Credenciales del Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Credenciales del usuario eliminadas\");"
                    ],
                    "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
                  }
                }
              ]
            },
            {
              "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
              "name": "99.10 - Eliminar Credenciales Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{admin_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 204) {",
                      "    console.log(\"✅ Credenciales admin eliminadas\");",
                      "} else {",
                      "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                      "}"
                    ],
                    "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "660faff1-b04d-47a6-9894-ca747192a463",
          "length": 39,
          "cycles": 1,
          "position": 31,
          "iteration": 0,
          "httpRequestId": "14085c5d-4a47-4682-b44a-0b88f645917d",
          "scriptId": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
          "execution": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "d66c02fb-a216-42b4-a30c-65322450c4c2",
          "timestamp": 1764115613595,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
          "name": "99.3b - Eliminar Orden",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "orders",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "943d34f7-ae2b-4160-8501-b9185db59ac5",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "071061d0-2290-4673-b00c-996b1705fc48",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Orden eliminada o no existe\");"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "007e6085-e97e-4fac-8f29-4a8cf45ece0f",
          "length": 39,
          "cycles": 1,
          "position": 32,
          "iteration": 0,
          "httpRequestId": "f00a783d-b00d-4a42-a4e1-31a351605044"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200, 204 or 404",
          "message": "expected undefined to be one of [ 200, 204, 404 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:33)",
          "checksum": "7c3bb6bc84cd0455e70bb401b7557d8a",
          "id": "6ed47752-d88b-4c27-9ab3-a56bad6cd4d7",
          "timestamp": 1764115613601,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 33,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
          "name": "99.3b - Eliminar Orden",
          "request": {
            "url": {
              "path": [
                "orders",
                "{{test_orderId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "071061d0-2290-4673-b00c-996b1705fc48",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Orden eliminada o no existe\");"
                ],
                "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
              }
            }
          ]
        },
        "parent": {
          "id": "633ebab2-f6f9-4d63-b286-de2671417899",
          "name": "E2E-99: Cleanup - Eliminar Datos de Prueba",
          "description": {
            "content": "Cleanup: Elimina todos los recursos creados durante los tests para permitir que la colección se ejecute nuevamente sin conflictos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
              "name": "99.1 - Eliminar Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Favoritos eliminados\");"
                    ],
                    "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
                  }
                }
              ]
            },
            {
              "id": "e790bce5-9069-4817-b756-64ac1f287592",
              "name": "99.2 - Eliminar Segundo Favorito",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Segundo favorito eliminado\");"
                    ],
                    "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
                  }
                }
              ]
            },
            {
              "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
              "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log(\"Orden cambiada a CANCELLED\");",
                      "} else {",
                      "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                      "}"
                    ],
                    "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
                  }
                }
              ]
            },
            {
              "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
              "name": "99.3b - Eliminar Orden",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "071061d0-2290-4673-b00c-996b1705fc48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Orden eliminada o no existe\");"
                    ],
                    "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
                  }
                }
              ]
            },
            {
              "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
              "name": "99.4 - Eliminar Carrito",
              "request": {
                "url": {
                  "path": [
                    "carts",
                    "{{test_cartId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Carrito eliminado\");"
                    ],
                    "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
                  }
                }
              ]
            },
            {
              "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
              "name": "99.5 - Eliminar Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 1 eliminado\");"
                    ],
                    "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
                  }
                }
              ]
            },
            {
              "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
              "name": "99.6 - Eliminar Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 2 eliminado\");"
                    ],
                    "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
                  }
                }
              ]
            },
            {
              "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
              "name": "99.7 - Eliminar Categoría",
              "request": {
                "url": {
                  "path": [
                    "categories",
                    "{{test_categoryId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Categoría eliminada\");"
                    ],
                    "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
                  }
                }
              ]
            },
            {
              "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
              "name": "99.8 - Eliminar Credenciales del Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Credenciales del usuario eliminadas\");"
                    ],
                    "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
                  }
                }
              ]
            },
            {
              "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
              "name": "99.10 - Eliminar Credenciales Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{admin_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 204) {",
                      "    console.log(\"✅ Credenciales admin eliminadas\");",
                      "} else {",
                      "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                      "}"
                    ],
                    "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "007e6085-e97e-4fac-8f29-4a8cf45ece0f",
          "length": 39,
          "cycles": 1,
          "position": 32,
          "iteration": 0,
          "httpRequestId": "f00a783d-b00d-4a42-a4e1-31a351605044",
          "scriptId": "071061d0-2290-4673-b00c-996b1705fc48",
          "execution": "c1524794-4c66-4ff9-afc8-b6098e737440"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "07be644c-d7e4-4bbf-8b7d-c3d8755d28bf",
          "timestamp": 1764115614116,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
          "name": "99.4 - Eliminar Carrito",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "carts",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "9f3c8717-dc1f-4a83-972c-443886104a7d",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Carrito eliminado\");"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "86a38310-b2f2-44a7-8f50-80581eaa3f6d",
          "length": 39,
          "cycles": 1,
          "position": 33,
          "iteration": 0,
          "httpRequestId": "f52a23c4-1f70-4f5f-87d8-1b5774e05dff"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200, 204 or 404",
          "message": "expected undefined to be one of [ 200, 204, 404 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:34)",
          "checksum": "d92d2b818f9c990edf52500a63468bee",
          "id": "05b07ef9-38b8-4bb1-aa50-f3c4bd9ffa63",
          "timestamp": 1764115614121,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 34,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
          "name": "99.4 - Eliminar Carrito",
          "request": {
            "url": {
              "path": [
                "carts",
                "{{test_cartId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Carrito eliminado\");"
                ],
                "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
              }
            }
          ]
        },
        "parent": {
          "id": "633ebab2-f6f9-4d63-b286-de2671417899",
          "name": "E2E-99: Cleanup - Eliminar Datos de Prueba",
          "description": {
            "content": "Cleanup: Elimina todos los recursos creados durante los tests para permitir que la colección se ejecute nuevamente sin conflictos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
              "name": "99.1 - Eliminar Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Favoritos eliminados\");"
                    ],
                    "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
                  }
                }
              ]
            },
            {
              "id": "e790bce5-9069-4817-b756-64ac1f287592",
              "name": "99.2 - Eliminar Segundo Favorito",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Segundo favorito eliminado\");"
                    ],
                    "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
                  }
                }
              ]
            },
            {
              "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
              "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log(\"Orden cambiada a CANCELLED\");",
                      "} else {",
                      "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                      "}"
                    ],
                    "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
                  }
                }
              ]
            },
            {
              "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
              "name": "99.3b - Eliminar Orden",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "071061d0-2290-4673-b00c-996b1705fc48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Orden eliminada o no existe\");"
                    ],
                    "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
                  }
                }
              ]
            },
            {
              "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
              "name": "99.4 - Eliminar Carrito",
              "request": {
                "url": {
                  "path": [
                    "carts",
                    "{{test_cartId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Carrito eliminado\");"
                    ],
                    "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
                  }
                }
              ]
            },
            {
              "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
              "name": "99.5 - Eliminar Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 1 eliminado\");"
                    ],
                    "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
                  }
                }
              ]
            },
            {
              "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
              "name": "99.6 - Eliminar Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 2 eliminado\");"
                    ],
                    "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
                  }
                }
              ]
            },
            {
              "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
              "name": "99.7 - Eliminar Categoría",
              "request": {
                "url": {
                  "path": [
                    "categories",
                    "{{test_categoryId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Categoría eliminada\");"
                    ],
                    "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
                  }
                }
              ]
            },
            {
              "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
              "name": "99.8 - Eliminar Credenciales del Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Credenciales del usuario eliminadas\");"
                    ],
                    "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
                  }
                }
              ]
            },
            {
              "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
              "name": "99.10 - Eliminar Credenciales Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{admin_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 204) {",
                      "    console.log(\"✅ Credenciales admin eliminadas\");",
                      "} else {",
                      "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                      "}"
                    ],
                    "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "86a38310-b2f2-44a7-8f50-80581eaa3f6d",
          "length": 39,
          "cycles": 1,
          "position": 33,
          "iteration": 0,
          "httpRequestId": "f52a23c4-1f70-4f5f-87d8-1b5774e05dff",
          "scriptId": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
          "execution": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "6eeb1e21-1af4-4d8e-bc64-afcda35a0084",
          "timestamp": 1764115614635,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
          "name": "99.5 - Eliminar Producto 1",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "products",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "af9abe9e-622f-4ba8-9303-9b9d4f293d0d",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Producto 1 eliminado\");"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "27ed0275-e32f-4866-876e-f892cc93b861",
          "length": 39,
          "cycles": 1,
          "position": 34,
          "iteration": 0,
          "httpRequestId": "e6d20414-2f83-4130-a035-8c812fefa392"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200, 204 or 404",
          "message": "expected undefined to be one of [ 200, 204, 404 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:35)",
          "checksum": "b1be1c45e41d67596075d28b7c41bf93",
          "id": "eb68527c-374a-4512-b9d9-589d4d5f0e03",
          "timestamp": 1764115614642,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 35,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
          "name": "99.5 - Eliminar Producto 1",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId1}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Producto 1 eliminado\");"
                ],
                "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
              }
            }
          ]
        },
        "parent": {
          "id": "633ebab2-f6f9-4d63-b286-de2671417899",
          "name": "E2E-99: Cleanup - Eliminar Datos de Prueba",
          "description": {
            "content": "Cleanup: Elimina todos los recursos creados durante los tests para permitir que la colección se ejecute nuevamente sin conflictos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
              "name": "99.1 - Eliminar Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Favoritos eliminados\");"
                    ],
                    "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
                  }
                }
              ]
            },
            {
              "id": "e790bce5-9069-4817-b756-64ac1f287592",
              "name": "99.2 - Eliminar Segundo Favorito",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Segundo favorito eliminado\");"
                    ],
                    "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
                  }
                }
              ]
            },
            {
              "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
              "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log(\"Orden cambiada a CANCELLED\");",
                      "} else {",
                      "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                      "}"
                    ],
                    "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
                  }
                }
              ]
            },
            {
              "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
              "name": "99.3b - Eliminar Orden",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "071061d0-2290-4673-b00c-996b1705fc48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Orden eliminada o no existe\");"
                    ],
                    "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
                  }
                }
              ]
            },
            {
              "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
              "name": "99.4 - Eliminar Carrito",
              "request": {
                "url": {
                  "path": [
                    "carts",
                    "{{test_cartId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Carrito eliminado\");"
                    ],
                    "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
                  }
                }
              ]
            },
            {
              "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
              "name": "99.5 - Eliminar Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 1 eliminado\");"
                    ],
                    "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
                  }
                }
              ]
            },
            {
              "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
              "name": "99.6 - Eliminar Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 2 eliminado\");"
                    ],
                    "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
                  }
                }
              ]
            },
            {
              "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
              "name": "99.7 - Eliminar Categoría",
              "request": {
                "url": {
                  "path": [
                    "categories",
                    "{{test_categoryId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Categoría eliminada\");"
                    ],
                    "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
                  }
                }
              ]
            },
            {
              "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
              "name": "99.8 - Eliminar Credenciales del Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Credenciales del usuario eliminadas\");"
                    ],
                    "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
                  }
                }
              ]
            },
            {
              "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
              "name": "99.10 - Eliminar Credenciales Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{admin_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 204) {",
                      "    console.log(\"✅ Credenciales admin eliminadas\");",
                      "} else {",
                      "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                      "}"
                    ],
                    "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "27ed0275-e32f-4866-876e-f892cc93b861",
          "length": 39,
          "cycles": 1,
          "position": 34,
          "iteration": 0,
          "httpRequestId": "e6d20414-2f83-4130-a035-8c812fefa392",
          "scriptId": "07d45793-a508-4e82-973f-2a4236de23b9",
          "execution": "f1b7c839-730b-4c33-a045-40cd12c2397d"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "07496372-7ad1-4bfa-af4c-ed9d3f243e47",
          "timestamp": 1764115615156,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
          "name": "99.6 - Eliminar Producto 2",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "products",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "563501cf-245e-4e73-be32-5a037ddd2541",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Producto 2 eliminado\");"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "2f3fb523-d2a8-4bcf-bba2-f7734b3f9871",
          "length": 39,
          "cycles": 1,
          "position": 35,
          "iteration": 0,
          "httpRequestId": "af30554a-df66-4989-8122-c07e82603fe9"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200, 204 or 404",
          "message": "expected undefined to be one of [ 200, 204, 404 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:36)",
          "checksum": "4a67af3510726b6878fcb716a45b1c59",
          "id": "14250dd2-28fb-42d2-94f1-403038bad7bc",
          "timestamp": 1764115615162,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 36,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
          "name": "99.6 - Eliminar Producto 2",
          "request": {
            "url": {
              "path": [
                "products",
                "{{test_productId2}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Producto 2 eliminado\");"
                ],
                "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
              }
            }
          ]
        },
        "parent": {
          "id": "633ebab2-f6f9-4d63-b286-de2671417899",
          "name": "E2E-99: Cleanup - Eliminar Datos de Prueba",
          "description": {
            "content": "Cleanup: Elimina todos los recursos creados durante los tests para permitir que la colección se ejecute nuevamente sin conflictos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
              "name": "99.1 - Eliminar Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Favoritos eliminados\");"
                    ],
                    "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
                  }
                }
              ]
            },
            {
              "id": "e790bce5-9069-4817-b756-64ac1f287592",
              "name": "99.2 - Eliminar Segundo Favorito",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Segundo favorito eliminado\");"
                    ],
                    "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
                  }
                }
              ]
            },
            {
              "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
              "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log(\"Orden cambiada a CANCELLED\");",
                      "} else {",
                      "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                      "}"
                    ],
                    "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
                  }
                }
              ]
            },
            {
              "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
              "name": "99.3b - Eliminar Orden",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "071061d0-2290-4673-b00c-996b1705fc48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Orden eliminada o no existe\");"
                    ],
                    "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
                  }
                }
              ]
            },
            {
              "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
              "name": "99.4 - Eliminar Carrito",
              "request": {
                "url": {
                  "path": [
                    "carts",
                    "{{test_cartId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Carrito eliminado\");"
                    ],
                    "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
                  }
                }
              ]
            },
            {
              "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
              "name": "99.5 - Eliminar Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 1 eliminado\");"
                    ],
                    "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
                  }
                }
              ]
            },
            {
              "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
              "name": "99.6 - Eliminar Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 2 eliminado\");"
                    ],
                    "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
                  }
                }
              ]
            },
            {
              "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
              "name": "99.7 - Eliminar Categoría",
              "request": {
                "url": {
                  "path": [
                    "categories",
                    "{{test_categoryId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Categoría eliminada\");"
                    ],
                    "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
                  }
                }
              ]
            },
            {
              "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
              "name": "99.8 - Eliminar Credenciales del Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Credenciales del usuario eliminadas\");"
                    ],
                    "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
                  }
                }
              ]
            },
            {
              "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
              "name": "99.10 - Eliminar Credenciales Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{admin_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 204) {",
                      "    console.log(\"✅ Credenciales admin eliminadas\");",
                      "} else {",
                      "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                      "}"
                    ],
                    "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "2f3fb523-d2a8-4bcf-bba2-f7734b3f9871",
          "length": 39,
          "cycles": 1,
          "position": 35,
          "iteration": 0,
          "httpRequestId": "af30554a-df66-4989-8122-c07e82603fe9",
          "scriptId": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
          "execution": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "fdb55374-c309-4ff2-9a0e-8e91a445c108",
          "timestamp": 1764115615675,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
          "name": "99.7 - Eliminar Categoría",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "categories",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "ad5a5d19-2971-4f25-ab89-d40c1bdaaed3",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Categoría eliminada\");"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "f695481d-462f-4207-b9c7-1340bc3cefc6",
          "length": 39,
          "cycles": 1,
          "position": 36,
          "iteration": 0,
          "httpRequestId": "8a828522-d455-4336-a55c-b09a8b5c5252"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200, 204 or 404",
          "message": "expected undefined to be one of [ 200, 204, 404 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:37)",
          "checksum": "05c0a5be2494adfff7c9cd001134d9da",
          "id": "95c204eb-1ea2-4a30-9147-df9e1a7e4cab",
          "timestamp": 1764115615683,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 37,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
          "name": "99.7 - Eliminar Categoría",
          "request": {
            "url": {
              "path": [
                "categories",
                "{{test_categoryId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Categoría eliminada\");"
                ],
                "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
              }
            }
          ]
        },
        "parent": {
          "id": "633ebab2-f6f9-4d63-b286-de2671417899",
          "name": "E2E-99: Cleanup - Eliminar Datos de Prueba",
          "description": {
            "content": "Cleanup: Elimina todos los recursos creados durante los tests para permitir que la colección se ejecute nuevamente sin conflictos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
              "name": "99.1 - Eliminar Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Favoritos eliminados\");"
                    ],
                    "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
                  }
                }
              ]
            },
            {
              "id": "e790bce5-9069-4817-b756-64ac1f287592",
              "name": "99.2 - Eliminar Segundo Favorito",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Segundo favorito eliminado\");"
                    ],
                    "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
                  }
                }
              ]
            },
            {
              "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
              "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log(\"Orden cambiada a CANCELLED\");",
                      "} else {",
                      "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                      "}"
                    ],
                    "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
                  }
                }
              ]
            },
            {
              "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
              "name": "99.3b - Eliminar Orden",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "071061d0-2290-4673-b00c-996b1705fc48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Orden eliminada o no existe\");"
                    ],
                    "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
                  }
                }
              ]
            },
            {
              "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
              "name": "99.4 - Eliminar Carrito",
              "request": {
                "url": {
                  "path": [
                    "carts",
                    "{{test_cartId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Carrito eliminado\");"
                    ],
                    "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
                  }
                }
              ]
            },
            {
              "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
              "name": "99.5 - Eliminar Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 1 eliminado\");"
                    ],
                    "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
                  }
                }
              ]
            },
            {
              "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
              "name": "99.6 - Eliminar Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 2 eliminado\");"
                    ],
                    "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
                  }
                }
              ]
            },
            {
              "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
              "name": "99.7 - Eliminar Categoría",
              "request": {
                "url": {
                  "path": [
                    "categories",
                    "{{test_categoryId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Categoría eliminada\");"
                    ],
                    "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
                  }
                }
              ]
            },
            {
              "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
              "name": "99.8 - Eliminar Credenciales del Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Credenciales del usuario eliminadas\");"
                    ],
                    "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
                  }
                }
              ]
            },
            {
              "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
              "name": "99.10 - Eliminar Credenciales Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{admin_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 204) {",
                      "    console.log(\"✅ Credenciales admin eliminadas\");",
                      "} else {",
                      "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                      "}"
                    ],
                    "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "f695481d-462f-4207-b9c7-1340bc3cefc6",
          "length": 39,
          "cycles": 1,
          "position": 36,
          "iteration": 0,
          "httpRequestId": "8a828522-d455-4336-a55c-b09a8b5c5252",
          "scriptId": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
          "execution": "d2762732-9afd-40e6-a091-9354743c6179"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "79433229-328f-46c7-bad9-df97655f87f0",
          "timestamp": 1764115616197,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
          "name": "99.8 - Eliminar Credenciales del Usuario",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "credentials",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "b1338777-4bc6-475f-9d4e-416fa52e3876",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Credenciales del usuario eliminadas\");"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "4cccb58f-a130-4a9a-9d29-ffadeafd7c31",
          "length": 39,
          "cycles": 1,
          "position": 37,
          "iteration": 0,
          "httpRequestId": "ec8a8949-3d11-4133-b944-b959be4ce3eb"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200, 204 or 404",
          "message": "expected undefined to be one of [ 200, 204, 404 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 204, 404 ]\n   at Object.eval sandbox-script.js:1:38)",
          "checksum": "7b5aebbbecd019bd673fed958ab5fb0e",
          "id": "10742ed6-c387-4587-82b0-ddb022dc1daf",
          "timestamp": 1764115616202,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 38,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
          "name": "99.8 - Eliminar Credenciales del Usuario",
          "request": {
            "url": {
              "path": [
                "credentials",
                "{{test_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                  "});",
                  "",
                  "console.log(\"Credenciales del usuario eliminadas\");"
                ],
                "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
              }
            }
          ]
        },
        "parent": {
          "id": "633ebab2-f6f9-4d63-b286-de2671417899",
          "name": "E2E-99: Cleanup - Eliminar Datos de Prueba",
          "description": {
            "content": "Cleanup: Elimina todos los recursos creados durante los tests para permitir que la colección se ejecute nuevamente sin conflictos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
              "name": "99.1 - Eliminar Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Favoritos eliminados\");"
                    ],
                    "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
                  }
                }
              ]
            },
            {
              "id": "e790bce5-9069-4817-b756-64ac1f287592",
              "name": "99.2 - Eliminar Segundo Favorito",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Segundo favorito eliminado\");"
                    ],
                    "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
                  }
                }
              ]
            },
            {
              "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
              "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log(\"Orden cambiada a CANCELLED\");",
                      "} else {",
                      "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                      "}"
                    ],
                    "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
                  }
                }
              ]
            },
            {
              "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
              "name": "99.3b - Eliminar Orden",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "071061d0-2290-4673-b00c-996b1705fc48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Orden eliminada o no existe\");"
                    ],
                    "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
                  }
                }
              ]
            },
            {
              "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
              "name": "99.4 - Eliminar Carrito",
              "request": {
                "url": {
                  "path": [
                    "carts",
                    "{{test_cartId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Carrito eliminado\");"
                    ],
                    "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
                  }
                }
              ]
            },
            {
              "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
              "name": "99.5 - Eliminar Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 1 eliminado\");"
                    ],
                    "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
                  }
                }
              ]
            },
            {
              "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
              "name": "99.6 - Eliminar Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 2 eliminado\");"
                    ],
                    "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
                  }
                }
              ]
            },
            {
              "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
              "name": "99.7 - Eliminar Categoría",
              "request": {
                "url": {
                  "path": [
                    "categories",
                    "{{test_categoryId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Categoría eliminada\");"
                    ],
                    "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
                  }
                }
              ]
            },
            {
              "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
              "name": "99.8 - Eliminar Credenciales del Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Credenciales del usuario eliminadas\");"
                    ],
                    "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
                  }
                }
              ]
            },
            {
              "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
              "name": "99.10 - Eliminar Credenciales Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{admin_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 204) {",
                      "    console.log(\"✅ Credenciales admin eliminadas\");",
                      "} else {",
                      "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                      "}"
                    ],
                    "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "4cccb58f-a130-4a9a-9d29-ffadeafd7c31",
          "length": 39,
          "cycles": 1,
          "position": 37,
          "iteration": 0,
          "httpRequestId": "ec8a8949-3d11-4133-b944-b959be4ce3eb",
          "scriptId": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
          "execution": "97173240-fc81-40ab-b212-1a80faf8b180"
        }
      },
      {
        "error": {
          "errno": -111,
          "code": "ECONNREFUSED",
          "syscall": "connect",
          "address": "127.0.0.1",
          "port": 8080,
          "name": "Error",
          "message": "connect ECONNREFUSED 127.0.0.1:8080",
          "stack": "Error: connect ECONNREFUSED 127.0.0.1:8080\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1555:16)",
          "checksum": "2462284d2be5f4dcd7e8994dbbc6be87",
          "id": "9fcea42e-8f4b-4675-a4fc-4cdefd69ec76",
          "timestamp": 1764115616715,
          "stacktrace": [
            {
              "fileName": "node:net",
              "lineNumber": 1555,
              "functionName": "TCPConnectWrap.afterConnect [as oncomplete]",
              "typeName": "TCPConnectWrap",
              "methodName": "afterConnect [as oncomplete]",
              "columnNumber": 16,
              "native": false
            }
          ]
        },
        "at": "request",
        "source": {
          "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
          "name": "99.10 - Eliminar Credenciales Admin",
          "request": {
            "url": {
              "protocol": "http",
              "port": "8080",
              "path": [
                "app",
                "api",
                "credentials",
                ""
              ],
              "host": [
                "localhost"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              },
              {
                "key": "User-Agent",
                "value": "PostmanRuntime/7.39.1",
                "system": true
              },
              {
                "key": "Accept",
                "value": "*/*",
                "system": true
              },
              {
                "key": "Cache-Control",
                "value": "no-cache",
                "system": true
              },
              {
                "key": "Postman-Token",
                "value": "abae9694-2491-420e-baa0-778c1dbe7604",
                "system": true
              },
              {
                "key": "Host",
                "value": "localhost:8080",
                "system": true
              },
              {
                "key": "Accept-Encoding",
                "value": "gzip, deflate, br",
                "system": true
              },
              {
                "key": "Connection",
                "value": "keep-alive",
                "system": true
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                  "});",
                  "",
                  "if (pm.response.code === 200 || pm.response.code === 204) {",
                  "    console.log(\"✅ Credenciales admin eliminadas\");",
                  "} else {",
                  "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                  "}"
                ]
              }
            }
          ]
        },
        "cursor": {
          "ref": "6232cc36-2fd1-4275-9333-24246f3e6e61",
          "length": 39,
          "cycles": 1,
          "position": 38,
          "iteration": 0,
          "httpRequestId": "0f4920c8-4187-4336-b0ac-4e0b5e14a544"
        }
      },
      {
        "error": {
          "name": "AssertionError",
          "index": 0,
          "test": "Status code is 200, 204, 400 or 404",
          "message": "expected undefined to be one of [ 200, 204, 400, 404 ]",
          "stack": "AssertionError: expected undefined to be one of [ 200, 204, 400, 404 ]\n   at Object.eval sandbox-script.js:1:39)",
          "checksum": "740e645f75e0ab678754e2d8bfdfb321",
          "id": "44140c7d-acbd-4e2e-894d-9b0e3c7ba3be",
          "timestamp": 1764115616721,
          "stacktrace": [
            {
              "fileName": "sandbox-script.js",
              "lineNumber": 1,
              "functionName": "Object.eval",
              "typeName": "Object",
              "methodName": "eval",
              "columnNumber": 39,
              "native": false
            }
          ]
        },
        "at": "assertion:0 in test-script",
        "source": {
          "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
          "name": "99.10 - Eliminar Credenciales Admin",
          "request": {
            "url": {
              "path": [
                "credentials",
                "{{admin_userId}}"
              ],
              "host": [
                "{{base_url}}"
              ],
              "query": [],
              "variable": []
            },
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{jwt_token}}"
              }
            ],
            "method": "DELETE"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                  "});",
                  "",
                  "if (pm.response.code === 200 || pm.response.code === 204) {",
                  "    console.log(\"✅ Credenciales admin eliminadas\");",
                  "} else {",
                  "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                  "}"
                ],
                "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
              }
            }
          ]
        },
        "parent": {
          "id": "633ebab2-f6f9-4d63-b286-de2671417899",
          "name": "E2E-99: Cleanup - Eliminar Datos de Prueba",
          "description": {
            "content": "Cleanup: Elimina todos los recursos creados durante los tests para permitir que la colección se ejecute nuevamente sin conflictos",
            "type": "text/plain"
          },
          "item": [
            {
              "id": "1f371f4e-4869-40f8-b3bb-b3c8f125ff44",
              "name": "99.1 - Eliminar Favoritos",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "6658d84c-329e-46f7-b0e0-052a62c07b09",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Favoritos eliminados\");"
                    ],
                    "_lastExecutionId": "38e9a1d7-6520-4288-9b9e-1a89c53e9648"
                  }
                }
              ]
            },
            {
              "id": "e790bce5-9069-4817-b756-64ac1f287592",
              "name": "99.2 - Eliminar Segundo Favorito",
              "request": {
                "url": {
                  "path": [
                    "favourites",
                    "{{test_userId}}",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "0c9896f2-0c65-423a-9b19-7cd0db3b138e",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Segundo favorito eliminado\");"
                    ],
                    "_lastExecutionId": "c77ee9ed-f808-4c7f-a1f6-6f6d94ff1216"
                  }
                }
              ]
            },
            {
              "id": "f354555d-315c-44ae-8500-b2a0d609eb37",
              "name": "99.3 - Cambiar Estado de Orden a CANCELLED",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "PUT",
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"orderId\": {{test_orderId}},\n    \"orderDate\": \"02-11-2024__10:30:00:000000\",\n    \"orderDesc\": \"Compra de laptop y mouse\",\n    \"orderFee\": 979.98,\n    \"orderStatus\": \"CREATED\",\n    \"isActive\": false,\n    \"cart\": {\n        \"cartId\": {{test_cartId}}\n    }\n}"
                },
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "type": "string",
                      "value": "{{jwt_token}}",
                      "key": "token"
                    }
                  ]
                }
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b0f0adfd-5a39-44f0-8f4c-dce41b97cda5",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    console.log(\"Orden cambiada a CANCELLED\");",
                      "} else {",
                      "    console.log(\"No se pudo cambiar estado de orden (posiblemente ya no existe)\");",
                      "}"
                    ],
                    "_lastExecutionId": "9955e040-a7b9-43c0-a40f-d076b1af79ae"
                  }
                }
              ]
            },
            {
              "id": "d183af0f-9d49-432e-a2d3-46e32631ffef",
              "name": "99.3b - Eliminar Orden",
              "request": {
                "url": {
                  "path": [
                    "orders",
                    "{{test_orderId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "071061d0-2290-4673-b00c-996b1705fc48",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Orden eliminada o no existe\");"
                    ],
                    "_lastExecutionId": "c1524794-4c66-4ff9-afc8-b6098e737440"
                  }
                }
              ]
            },
            {
              "id": "37df48fb-e446-4e89-b334-4aafbb5e7257",
              "name": "99.4 - Eliminar Carrito",
              "request": {
                "url": {
                  "path": [
                    "carts",
                    "{{test_cartId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "b82f2d6d-1e20-44f2-875e-dffe5e720aa6",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Carrito eliminado\");"
                    ],
                    "_lastExecutionId": "da371d1d-5ed1-48cd-8f84-d878cc91993c"
                  }
                }
              ]
            },
            {
              "id": "4e2f860a-7f0e-4a9f-883b-b2b15889657c",
              "name": "99.5 - Eliminar Producto 1",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId1}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "07d45793-a508-4e82-973f-2a4236de23b9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 1 eliminado\");"
                    ],
                    "_lastExecutionId": "f1b7c839-730b-4c33-a045-40cd12c2397d"
                  }
                }
              ]
            },
            {
              "id": "9ff2b7a7-9791-4b45-ab0b-6258df386a68",
              "name": "99.6 - Eliminar Producto 2",
              "request": {
                "url": {
                  "path": [
                    "products",
                    "{{test_productId2}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9b32f756-fe46-419a-bb80-b9eb734b0ba4",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Producto 2 eliminado\");"
                    ],
                    "_lastExecutionId": "3ae28653-945a-4064-98ee-a7e9d4fe3dbb"
                  }
                }
              ]
            },
            {
              "id": "8b26a4b7-a249-4d3e-863b-c9755ecec6fd",
              "name": "99.7 - Eliminar Categoría",
              "request": {
                "url": {
                  "path": [
                    "categories",
                    "{{test_categoryId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2aebd8bb-b051-4c6a-96da-946a8ec375a9",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Categoría eliminada\");"
                    ],
                    "_lastExecutionId": "d2762732-9afd-40e6-a091-9354743c6179"
                  }
                }
              ]
            },
            {
              "id": "e4e0c6e8-1d47-4480-a810-67a427c2240f",
              "name": "99.8 - Eliminar Credenciales del Usuario",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{test_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "a6fbbf90-6c93-4719-adcf-f40b977ace0c",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 404]);",
                      "});",
                      "",
                      "console.log(\"Credenciales del usuario eliminadas\");"
                    ],
                    "_lastExecutionId": "97173240-fc81-40ab-b212-1a80faf8b180"
                  }
                }
              ]
            },
            {
              "id": "8102f520-f5e5-438c-a47a-2a02498d3e47",
              "name": "99.10 - Eliminar Credenciales Admin",
              "request": {
                "url": {
                  "path": [
                    "credentials",
                    "{{admin_userId}}"
                  ],
                  "host": [
                    "{{base_url}}"
                  ],
                  "query": [],
                  "variable": []
                },
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{jwt_token}}"
                  }
                ],
                "method": "DELETE"
              },
              "response": [],
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
                    "type": "text/javascript",
                    "exec": [
                      "pm.test(\"Status code is 200, 204, 400 or 404\", function () {",
                      "    pm.expect(pm.response.code).to.be.oneOf([200, 204, 400, 404]);",
                      "});",
                      "",
                      "if (pm.response.code === 200 || pm.response.code === 204) {",
                      "    console.log(\"✅ Credenciales admin eliminadas\");",
                      "} else {",
                      "    console.log(\"ℹ️  Credenciales admin no encontradas o no se pueden eliminar\");",
                      "}"
                    ],
                    "_lastExecutionId": "59372172-84d7-4401-82d0-03c2e3f99b69"
                  }
                }
              ]
            }
          ],
          "event": []
        },
        "cursor": {
          "ref": "6232cc36-2fd1-4275-9333-24246f3e6e61",
          "length": 39,
          "cycles": 1,
          "position": 38,
          "iteration": 0,
          "httpRequestId": "0f4920c8-4187-4336-b0ac-4e0b5e14a544",
          "scriptId": "9a5d07c6-3683-4da6-9052-b0f1d0d51459",
          "execution": "59372172-84d7-4401-82d0-03c2e3f99b69"
        }
      }
    ],
    "error": null
  }
}